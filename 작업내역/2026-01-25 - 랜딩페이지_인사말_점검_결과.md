# 랜딩페이지 인사말 점검 결과

## 🔍 현재 상황

### 인사말 표시 위치
- **파일**: `planning-platform/frontend/src/pages/MainPage.tsx`
- **라인**: 1603-1628
- **위치**: 좌상단 (헤더 아래)

### 현재 인사말 내용
```tsx
<h1>안녕하세요 {환자이름}님,</h1>
<p>{병원명}입니다.</p>
<p>
  {병원명}에서<br />
  더 의미있는 내원이 되시길 바라며<br />
  준비한 건강관리 서비스를 확인해보세요!
</p>
```

## ❌ 문제점

### 1. 입장 방식에 따른 분기 로직 없음
- 현재는 **항상 동일한 인사말**을 표시
- `isKindHabitDomain` (카인드해빗 도메인)만 체크
- **입장 방식**(추이보기 vs 질병예측리포트)에 따른 분기 없음

### 2. 메시지 내용이 접근 경로와 맞지 않음

#### 추이보기로 들어온 경우
- ✅ **현재 메시지 적절**: "더 의미있는 내원이 되시길 바라며"
- 추이보기는 병원 방문 후 건강검진 결과를 확인하는 맥락

#### 질병예측리포트로 들어온 경우
- ❌ **현재 메시지 부적절**: "더 의미있는 내원이 되시길 바라며"
- 질병예측리포트는 병원 방문과 무관한 AI 분석 리포트
- "내원"이라는 표현이 맞지 않음

## 📋 입장 방식 확인 방법

### 1. redirect_path 확인
- **저장 위치**: 
  - `useAuthFlow.ts`에서 `redirect_path`를 세션에 저장
  - URL 파라미터: `?redirect=/disease-report` 또는 `?redirect=/results-trend`
- **확인 방법**:
  ```typescript
  const urlParams = new URLSearchParams(location.search);
  const redirectPath = urlParams.get('redirect');
  // 또는 localStorage에서 확인
  ```

### 2. URL 경로 확인
- **추이보기**: `/results-trend`, `/chart` 관련
- **질병예측리포트**: `/disease-report` 관련

### 3. AuthForm에서 구분
- `AuthForm.tsx`에서 `isDiseaseReport` 변수로 구분
- 하지만 이 정보가 MainPage로 전달되지 않음

## 🔧 수정 방안

### 옵션 1: URL 파라미터 기반 분기 (권장)
```tsx
// MainPage.tsx에서
const urlParams = new URLSearchParams(location.search);
const redirectPath = urlParams.get('redirect');
const isDiseaseReport = redirectPath === '/disease-report' || 
                        location.pathname.includes('disease-report');
const isTrendView = redirectPath === '/results-trend' || 
                    redirectPath === '/chart' ||
                    location.pathname.includes('results-trend');

// 인사말 메시지 분기
<p className="main-page__greeting-message">
  {isKindHabitDomain ? (
    <>
      <span className="greeting-text">착한습관</span><span className="greeting-text">에서</span><br />
    </>
  ) : (
    <>
      <span className="hospital-name">{displayHospital.name}</span><span className="greeting-text">에서</span><br />
    </>
  )}
  {isDiseaseReport ? (
    <>
      <span className="greeting-text-thin">건강한 미래를 위한</span><br />
      <span className="greeting-text-thin">AI 분석 리포트를 확인해보세요!</span>
    </>
  ) : (
    <>
      <span className="greeting-text-thin">더 의미있는 내원이 되시길 바라며</span><br />
      <span className="greeting-text-thin">준비한 건강관리 서비스를 확인해보세요!</span>
    </>
  )}
</p>
```

### 옵션 2: localStorage 기반 분기
- `redirect_path`를 localStorage에 저장하고 MainPage에서 읽기
- 하지만 URL 파라미터가 더 명확하고 안정적

### 옵션 3: Context 기반 분기
- WelnoDataContext에 `entryPath` 또는 `redirectPath` 추가
- 하지만 현재 Context에는 이 정보가 없음

## 📝 권장 수정 사항

1. **URL 파라미터 우선 확인**
   - `?redirect=/disease-report` → 질병예측리포트
   - `?redirect=/results-trend` → 추이보기
   - 없으면 기본 메시지 (추이보기용)

2. **인사말 메시지 분기**
   - **추이보기**: "더 의미있는 내원이 되시길 바라며 준비한 건강관리 서비스를 확인해보세요!"
   - **질병예측리포트**: "건강한 미래를 위한 AI 분석 리포트를 확인해보세요!" (또는 적절한 메시지)

3. **추가 고려사항**
   - 카인드해빗 도메인은 별도 메시지 유지
   - 다른 진입 경로(검진설계, 처방전 등)도 고려

## 🎯 다음 단계

1. 사용자 확인: 각 진입 경로에 맞는 인사말 메시지 확인
2. 코드 수정: MainPage.tsx에 분기 로직 추가
3. 테스트: 각 진입 경로별로 인사말이 올바르게 표시되는지 확인
