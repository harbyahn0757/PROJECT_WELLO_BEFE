# WELNO ë°±ì˜¤í”¼ìŠ¤ â€” í™”ë©´ ê¸°íšì„œ & ë””ìì¸ ê°€ì´ë“œ v2

> ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ ë„êµ¬ (Grafana, Metabase, Tableau, Superset, Mixpanel) íŒ¨í„´ ì¡°ì‚¬ ë°˜ì˜

## í˜„í™© ìš”ì•½

| í•­ëª© | í˜„ì¬ | ë¬¸ì œì  |
|------|------|--------|
| ì„œë² ì´ ì²« í™”ë©´ | ë¹ˆ í™”ë©´ ("ë³‘ì›ì„ ì„ íƒí•˜ì„¸ìš”") | ì§„ì… ì‹œ ì•„ë¬´ ì •ë³´ ì—†ìŒ |
| ìƒë‹´ í…Œì´ë¸” | 5ì»¬ëŸ¼ (ë‚ ì§œ/ë³‘ì›/ë©”ì‹œì§€/ìœ„í—˜ë„/ê°ì •) | íƒœê¹… ë°ì´í„°ì˜ engagement, intent, concerns, follow_up ë¯¸ë…¸ì¶œ |
| ëŒ€ì‹œë³´ë“œ | ìš´ì˜ ê±´ìˆ˜ ì¤‘ì‹¬, ì°¨íŠ¸ í´ë¦­ ë¶ˆê°€ | ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ ê´€ì  ë¶„ì„/í•„í„°ë§/ë“œë¦´ë‹¤ìš´ ë¶€ì¬ |
| ê²€ì§„ê²°ê³¼ ìƒë‹´ | ë³‘ì›/ë¬¸ì„œ ê´€ë¦¬ ì¤‘ì‹¬ | ì„¸ì…˜ ë¶„ì„ ì•½í•¨ |

### ë°ì´í„° í˜„í™© (ì‹¤ì œ DB 2026-02-15 ê¸°ì¤€)

```
íƒœê¹… ì„¸ì…˜: 46ê±´ (100% í•„ë“œ ì™„ì„±)
â”œâ”€â”€ ìœ„í—˜ë„: low 21 / medium 14 / high 11
â”œâ”€â”€ ê°ì •: neutral 38 / worried 8
â”œâ”€â”€ í–‰ë™ì˜í–¥: passive 33 / considering 13
â”œâ”€â”€ ì°¸ì—¬ë„: minimal(0-19) 11 / low(20-49) 28 / mid(50-79) 7 / high(80+) 0
â”œâ”€â”€ í›„ì†í•„ìš”: true 35 / false 11
â”œâ”€â”€ ê´€ì‹¬ì‚¬: í˜ˆì••(2), ì‹ ì‚¬êµ¬ì²´ì—¬ê³¼ìœ¨(2), AST(2) ë“± ììœ í˜• long-tail
â””â”€â”€ ìš°ë ¤ì‚¬í•­: ê°„ìˆ˜ì¹˜, ì²´ì¤‘ê´€ë¦¬, ê³ ì§€í˜ˆì¦ì•½ ë“± ëª¨ë‘ unique

ì„œë² ì´: 41ê±´ (9ê°œ ë³‘ì›, ë‹¤ë¥¸ ë³‘ì›ë“¤ì´ ì±„íŒ…ê³¼ ë¶„ë¦¬)
ì±„íŒ…: ~46 ì„¸ì…˜ (10+ ë³‘ì›)
âš ï¸ ì†Œê·œëª¨ ë°ì´í„°ì…‹ â€” ë°±ë¶„ìœ¨ í•´ì„ ì£¼ì˜, íˆìŠ¤í† ê·¸ë¨/ë°”ì´ì˜¬ë¦° ë¶€ì í•©
```

---

## ë””ìì¸ ì›ì¹™ (ë¦¬ì„œì¹˜ ê¸°ë°˜)

### 1. Shneiderman ì •ë³´ ì‹œê°í™” ì›ì¹™
> **"Overview first, zoom and filter, then details on demand"**

ëª¨ë“  í™”ë©´ì„ ì´ 3ë‹¨ê³„ë¡œ êµ¬ì„±:
- **Overview**: KPI ì¹´ë“œ + ìš”ì•½ ì°¨íŠ¸
- **Zoom & Filter**: í´ë¦­/í•„í„°ë¡œ ë²”ìœ„ ì¢í˜
- **Detail**: ë“œë¦´ë‹¤ìš´ í…Œì´ë¸” + ê°œë³„ ë ˆì½”ë“œ

### 2. ì†Œê·œëª¨ ë°ì´í„°ì…‹ ì‹œê°í™” ê·œì¹™

| ì í•© | ë¶€ì í•© |
|------|--------|
| ìˆ˜í‰ ë°”ì°¨íŠ¸ (ê¸´ ë¼ë²¨) | íˆìŠ¤í† ê·¸ë¨ (ë¹ˆ ë¶€ì¡±) |
| ë„ë„› ì°¨íŠ¸ (2-6 ì¹´í…Œê³ ë¦¬) | íˆíŠ¸ë§µ (ì…€ ëŒ€ë¶€ë¶„ ë¹ˆê°’) |
| ì •ë ¬ ê°€ëŠ¥ í…Œì´ë¸” | íŠ¸ë¦¬ë§µ (ì¹´í…Œê³ ë¦¬ ì ìŒ) |
| ì +ë¼ë²¨ ì§ì ‘ í‘œê¸° | ì˜ì—­ ì°¨íŠ¸ (ë…¸ì´ì¦ˆ ê³¼ì¥) |
| ìŠ¤íŒŒí¬ë¼ì¸ (í…Œì´ë¸” ë‚´) | ë°•ìŠ¤í”Œë¡¯/ë°”ì´ì˜¬ë¦° (n < 20) |

**í•„ìˆ˜ ê·œì¹™:**
- í‘œë³¸ ìˆ˜ < 5ì¼ ë•Œ "í‘œë³¸ ìˆ˜ Nê±´ (í•´ì„ ì£¼ì˜)" ê²½ê³  í‘œì‹œ
- ë°±ë¶„ìœ¨ í‘œê¸° ì‹œ í•­ìƒ ì‹¤ìˆ˜ë„ ë³‘ê¸° (38ê±´, 83%)
- Yì¶•ì€ í•­ìƒ 0ì—ì„œ ì‹œì‘

### 3. í—¬ìŠ¤ì¼€ì–´ ëŒ€ì‹œë³´ë“œ íŒ¨í„´

- **ì‹ í˜¸ë“± ìƒ‰ìƒ (Traffic Light)**: ğŸ”´ğŸŸ¡ğŸŸ¢ â€” ì„ìƒ ì¢…ì‚¬ìì—ê²Œ ë³´í¸ì 
- **ìˆ˜ë™ ì•Œë¦¼ë§Œ**: ëª¨ë‹¬/í•˜ë“œìŠ¤í†± ê¸ˆì§€ â€” ì‹œê°ì  íë§Œ ì‚¬ìš©
- **ì„ê³„ê°’ ì‹œìŠ¤í…œ** (Grafana íŒ¨í„´): ìˆ˜ì¹˜ ê²½ê³„ì— ë”°ë¥¸ ìë™ ìƒ‰ìƒ ë§¤í•‘
- **ì—­í• ë³„ ë·°**: ìš´ì˜ì vs ë°ì´í„° ë¶„ì„ê°€ ê´€ì  ë¶„ë¦¬

### 4. ì¸í„°ë™ì…˜ íŒ¨í„´ (ë„êµ¬ë³„ ì±„íƒ)

| íŒ¨í„´ | ì¶œì²˜ | ì±„íƒ ì´ìœ  |
|------|------|----------|
| **ì°¨íŠ¸ í´ë¦­ â†’ ë“œë¦´ë‹¤ìš´** | Metabase | ì •ì  ì°¨íŠ¸ë¥¼ íƒìƒ‰ ë„êµ¬ë¡œ ë³€í™˜ |
| **í¬ë¡œìŠ¤ í•˜ì´ë¼ì´íŒ…** | Tableau | ì°¨íŠ¸ A í´ë¦­ ì‹œ ì°¨íŠ¸ B í•´ë‹¹ ë°ì´í„° ê°•ì¡°, ë¹„ì„ íƒì€ 20% íˆ¬ëª… |
| **URL ë™ê¸°í™” í•„í„°** | Grafana | í•„í„° ìƒíƒœë¥¼ URLë¡œ ê³µìœ  ê°€ëŠ¥ |
| **ì—°ì‡„ í•„í„° (Cascading)** | Superset | ë³‘ì› â†’ í™˜ì ì—°ë™ í•„í„° |
| **í•„í„° ì¹© (Lozenges)** | Metabase | ì ìš©ëœ í•„í„°ë¥¼ ì œê±° ê°€ëŠ¥í•œ ì•Œì•½ìœ¼ë¡œ í‘œì‹œ |
| **ì ‘ì´ì‹ ì„¹ì…˜** | Grafana | ê¸´ í˜ì´ì§€ì—ì„œ ì¸ì§€ ë¶€ë‹´ ê°ì†Œ |
| **ë¹ˆ ìƒíƒœ ì²˜ë¦¬** | ê³µí†µ | "ë°ì´í„° ì—†ìŒ" + "ê¸°ê°„ ë³€ê²½ ì œì•ˆ" ëª…ì‹œ |

---

## ë””ìì¸ ì‹œìŠ¤í…œ (ê¸°ì¡´ ìœ ì§€ + í™•ì¥)

### ì»¬ëŸ¬ í† í°

| ìš©ë„ | ìƒ‰ìƒ | ì½”ë“œ |
|------|------|------|
| ë¸Œëœë“œ ê¸°ë³¸ | ê°ˆìƒ‰ | `#7c746a` |
| ë¸Œëœë“œ í˜¸ë²„ | ì§„ê°ˆìƒ‰ | `#696158` |
| ì•¡ì„¼íŠ¸ | ì˜¤ë Œì§€ | `#ed8936` |
| ìœ„í—˜-ë†’ìŒ | ë¹¨ê°• | `#dc2626` |
| ìœ„í—˜-ì¤‘ê°„ | ì£¼í™© | `#d97706` |
| ìœ„í—˜-ë‚®ìŒ | ì´ˆë¡ | `#059669` |
| ê±±ì • | ë³´ë¼ | `#6a1b9a` |
| ì°¨íŠ¸ë¸”ë£¨ | íŒŒë‘ | `#4299e1` |
| ë°°ê²½-í¬ë¦¼ | ë² ì´ì§€ | `#FEF9EE` |
| ë¹„í™œì„± (ìƒˆë¡œ) | ì—°íšŒìƒ‰ | `#e2e8f0` |

### ì„ê³„ê°’ ì‹œìŠ¤í…œ (Grafana íŒ¨í„´ â€” ì‹ ê·œ)

```typescript
const THRESHOLDS = {
  risk_level: { high: '#dc2626', medium: '#d97706', low: '#059669' },
  engagement_score: [
    { max: 30, color: '#dc2626', label: 'ë‚®ìŒ' },
    { max: 60, color: '#d97706', label: 'ë³´í†µ' },
    { max: 100, color: '#059669', label: 'ë†’ìŒ' },
  ],
  follow_up_needed: { true: '#dc2626', false: 'transparent' },
};
```

### ì»´í¬ë„ŒíŠ¸ ê·œì¹™ (ê¸°ì¡´ ìœ ì§€)

- **ì¹´ë“œ**: border-radius 12px, padding 20px, shadow 0 1px 2px
- **ë±ƒì§€**: padding 2px 8px, border-radius 10px, font-size 12px
- **í…Œì´ë¸”**: font-size 13px, sticky header, hover #f9fafb
- **ì°¨íŠ¸**: Recharts (ê¸°ì¡´), @nivo/heatmap (ì‹ ê·œ â€” ì½”í˜¸íŠ¸/ìƒê´€)
- **ê°„ê²©**: xs=8px, sm=12px, md=16px, lg=24px, xl=32px

### ì‹ ê·œ ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ | ë²ˆë“¤ | ì´ìœ  |
|-----------|------|------|------|
| `@tanstack/react-table` | ë“œë¦´ë‹¤ìš´ í…Œì´ë¸” (ì •ë ¬/í•„í„°/ê·¸ë£¹) | ~20KB | í—¤ë“œë¦¬ìŠ¤ â€” ê¸°ì¡´ SCSS í˜¸í™˜ |
| `@nivo/heatmap` | íˆíŠ¸ë§µ/ì½”í˜¸íŠ¸ ë¶„ì„ | ~55KB | Rechartsì— íˆíŠ¸ë§µ ì—†ìŒ |
| `rc-slider` | ë²”ìœ„ ìŠ¬ë¼ì´ë” (ì°¸ì—¬ë„ ë“±) | ~15KB | ê²½ëŸ‰, CSS ì»¤ìŠ¤í…€ ê°€ëŠ¥ |

> Tremor(Tailwind), AG Grid(ê³¼ë‹¤), MUI Charts(ë””ìì¸ ì¶©ëŒ) ì œì™¸

---

## A. ì„œë² ì´ í˜ì´ì§€ â€” ì²« ì§„ì…í™”ë©´ (ë³‘ì› ì¹´ë“œ ê·¸ë¦¬ë“œ)

### ëª©í‘œ
ë³‘ì› ë¯¸ì„ íƒ ì‹œ "ì˜¤ëŠ˜ ì—…ë°ì´íŠ¸ëœ ë³‘ì›" ì¹´ë“œë¥¼ ë³´ì—¬ì£¼ê³ , í´ë¦­í•˜ë©´ í•´ë‹¹ ë³‘ì›ìœ¼ë¡œ ì§„ì…

### í™”ë©´ ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë§Œì¡±ë„ ì¡°ì‚¬                                        [ì—‘ì…€] [JSON] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ì˜¤ëŠ˜ ì—…ë°ì´íŠ¸ëœ ë³‘ì›                                               â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ì²œì•ˆìš°ë¦¬ë³‘ì›        â”‚ â”‚ í•œë¦¼ëŒ€í•™êµë™íƒ„ì„±ì‹¬   â”‚ â”‚ ë°©ë³‘ì›            â”‚  â”‚
â”‚  â”‚                   â”‚ â”‚                   â”‚ â”‚                  â”‚  â”‚
â”‚  â”‚ ê¸°ë³¸ì„¤ë¬¸ Â· ì§ˆë¬¸ 3ê°œ â”‚ â”‚ ê¸°ë³¸ì„¤ë¬¸ Â· ì§ˆë¬¸ 3ê°œ  â”‚ â”‚ ê¸°ë³¸ì„¤ë¬¸ Â· ì§ˆë¬¸ 3ê°œâ”‚  â”‚
â”‚  â”‚                   â”‚ â”‚                   â”‚ â”‚                  â”‚  â”‚
â”‚  â”‚ â˜… 4.2             â”‚ â”‚ â˜… 3.8             â”‚ â”‚ â˜… 4.5            â”‚  â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  â”‚  â”‚
â”‚  â”‚                   â”‚ â”‚                   â”‚ â”‚                  â”‚  â”‚
â”‚  â”‚ ì˜¤ëŠ˜ +3   ì´ 11ê±´  â”‚ â”‚ ì˜¤ëŠ˜ +1   ì´ 8ê±´   â”‚ â”‚ ì˜¤ëŠ˜ +2   ì´ 7ê±´  â”‚  â”‚
â”‚  â”‚ ìµœê·¼ 21:05        â”‚ â”‚ ìµœê·¼ 20:30         â”‚ â”‚ ìµœê·¼ 19:45       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ ë™êµ­ëŒ€ì¼ì‚°ë³‘ì›      â”‚ â”‚ (ì„œìš¸)í•¨ì¶˜ì—¬ì„±       â”‚                       â”‚
â”‚  â”‚ ...               â”‚ â”‚ ...               â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€ ì „ì²´ ìš”ì•½ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  ì´ ì‘ë‹µ   â”‚ â”‚  ì˜¤ëŠ˜     â”‚ â”‚  ë³‘ì› ìˆ˜   â”‚ â”‚  í‰ê·  ì ìˆ˜  â”‚            â”‚
â”‚  â”‚   121     â”‚ â”‚   +6     â”‚ â”‚    9     â”‚ â”‚   4.1    â”‚            â”‚
â”‚  â”‚           â”‚ â”‚  â–² vsì–´ì œ â”‚ â”‚          â”‚ â”‚  â˜…â˜…â˜…â˜…â˜†  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¹´ë“œ ìŠ¤í™

```scss
.survey-page__hospital-card {
  background: $white;
  border: 1px solid $gray-200;
  border-radius: 12px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.15s;

  &:hover {
    border-color: $brand-brown;
    box-shadow: 0 4px 12px rgba(124, 116, 106, 0.15);
    transform: translateY(-2px);
  }

  &__name { font-weight: 700; font-size: 15px; color: $gray-900; }
  &__template { font-size: 12px; color: $gray-600; }
  &__score { font-size: 20px; font-weight: 700; /* satisfaction ìƒ‰ìƒ */ }
  &__score-bar { height: 6px; border-radius: 3px; background: $gray-200; }
  &__score-fill { height: 100%; border-radius: 3px; /* satisfaction ìƒ‰ìƒ */ }
  &__counts { font-size: 12px; color: $gray-600; }
  &__today-badge { color: $accent-orange; font-weight: 600; }
  &__time { font-size: 11px; color: $gray-500; }
}
```

### ê·¸ë¦¬ë“œ

```scss
.survey-page__card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 16px;
}
```

### ë°±ì—”ë“œ API

`GET /hospital-survey/today-summary` (X-API-Key ë¶ˆí•„ìš”, JWT ì¸ì¦)

```json
{
  "hospitals": [
    {
      "hospital_id": "H001",
      "hospital_name": "ì²œì•ˆìš°ë¦¬ë³‘ì›",
      "template_name": "ê¸°ë³¸ì„¤ë¬¸",
      "question_count": 3,
      "avg_score": 4.2,
      "today_count": 3,
      "total_count": 11,
      "last_response_at": "2026-02-15T21:05:00"
    }
  ],
  "summary": {
    "total_responses": 121,
    "today_responses": 6,
    "hospital_count": 9,
    "avg_score": 4.1
  }
}
```

---

## B. ìƒë‹´ í…Œì´ë¸” ê°•í™” (í™˜ìí†µí•© ìƒì„¸)

### ëª©í‘œ
Metabase ìŠ¤íƒ€ì¼ "click to explore" â€” íƒœê¹… ë°ì´í„°ë¥¼ í•œëˆˆì— ë³´ê³  í´ë¦­ìœ¼ë¡œ ìƒì„¸ ì§„ì…

### í…Œì´ë¸” ë³€ê²½

```
[í˜„ì¬] 5ì»¬ëŸ¼
ë‚ ì§œ | ë³‘ì› | ë©”ì‹œì§€ | ìœ„í—˜ë„ | ê°ì •

[ë³€ê²½] 7ì»¬ëŸ¼ + ìŠ¤íŒŒí¬ë¼ì¸
ë‚ ì§œ | ë³‘ì› | ë©”ì‹œì§€ | ìœ„í—˜ë„ | ê°ì • | ì˜í–¥ | í›„ì†
```

### í™•ì¥ë·° (Progressive Disclosure)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ìš”ì•½                                                       â”‚
â”‚ "í™˜ìê°€ ê°„ìˆ˜ì¹˜ AST ìƒìŠ¹ì— ëŒ€í•´ ê±±ì •í•˜ë©° ì‹ì´ìš”ë²•ì„ ë¬¸ì˜í•¨"           â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ¯ í•µì‹¬ ìš°ë ¤ì‚¬í•­                                         â”‚    â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚ â”‚ â”‚ ê°„ìˆ˜ì¹˜ AST ë†’ìŒ      â”‚ â”‚ ê³ ì§€í˜ˆì¦ì•½ ì¤‘ë‹¨ ê°€ëŠ¥ ì—¬ë¶€     â”‚  â”‚    â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚ ğŸ·ï¸ ê´€ì‹¬ì‚¬                                                     â”‚
â”‚ [í˜ˆì••] [ê°„ìˆ˜ì¹˜] [ì½œë ˆìŠ¤í…Œë¡¤] [ë³µìš©ì•½]                              â”‚
â”‚                                                               â”‚
â”‚ ğŸ’¡ ìƒë‹´ì‚¬ ê¶Œê³                                                   â”‚
â”‚ â€¢ ì •ê¸°ì  ê°„ê¸°ëŠ¥ ê²€ì‚¬ ê¶Œì¥                                         â”‚
â”‚ â€¢ ê¸ˆì£¼ ë° ì‹ì´ìš”ë²• ì•ˆë‚´                                           â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚ ì°¸ì—¬ë„         â”‚ â”‚ ëŒ€í™” ê¹Šì´      â”‚ â”‚ ë°ì´í„° í’ˆì§ˆ    â”‚           â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘    â”‚ â”‚              â”‚ â”‚              â”‚           â”‚
â”‚ â”‚ 42 / 100     â”‚ â”‚ ë³´í†µ          â”‚ â”‚ 65 / 100    â”‚           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                               â”‚
â”‚ âš™ï¸ íƒœê¹…: gemini-2.0-flash Â· ì„¸ì…˜: abc123                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë±ƒì§€ ìŠ¤í™

**ìœ„í—˜ë„** (Traffic Light â€” í—¬ìŠ¤ì¼€ì–´ í‘œì¤€):
- `high` â†’ ë¹¨ê°• ë°°ê²½ `#fdecea`, í…ìŠ¤íŠ¸ `#dc2626`, "ê³ ìœ„í—˜"
- `medium` â†’ ì£¼í™© ë°°ê²½ `#fff3e0`, í…ìŠ¤íŠ¸ `#d97706`, "ì£¼ì˜"
- `low` â†’ ì´ˆë¡ ë°°ê²½ `#e8f5e9`, í…ìŠ¤íŠ¸ `#059669`, "ì–‘í˜¸"

**ì˜í–¥ (action_intent):**
- `active` â†’ ì´ˆë¡ "ì ê·¹"
- `considering` â†’ ì£¼í™© "ê³ ë ¤"
- `passive` â†’ íšŒìƒ‰ "ì†Œê·¹"

**í›„ì†í•„ìš” (follow_up_needed):**
- `true` â†’ ë¹¨ê°„ ì  8px `#dc2626`
- `false` â†’ ë¹ˆì¹¸

**ê´€ì‹¬ì‚¬ íƒœê·¸ ì¹©:**
```scss
.tag-chip {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 11px;
  background: rgba(124, 116, 106, 0.1);
  color: $brand-brown;
  margin: 2px;
}
```

**ì°¸ì—¬ë„ ê²Œì´ì§€:**
```scss
.gauge-bar {
  width: 80px; height: 6px;
  background: $gray-200;
  border-radius: 3px;
  &__fill { height: 100%; border-radius: 3px; /* ì„ê³„ê°’ ìƒ‰ìƒ */ }
}
```

### ë°±ì—”ë“œ ìˆ˜ì •

`/patients/{key}/detail` SQLì— ì¶”ê°€ SELECT:
```sql
t.engagement_score,
t.conversation_depth,
t.action_intent,
t.interest_tags,
t.key_concerns,
t.follow_up_needed,
t.counselor_recommendations,
t.data_quality_score
```

---

## C. ë°ì´í„° ë¶„ì„ ëŒ€ì‹œë³´ë“œ (ì‹ ê·œ í˜ì´ì§€)

### ëª©í‘œ
Grafana ë³€ìˆ˜ ì‹œìŠ¤í…œ + Metabase ë“œë¦´ë‹¤ìš´ + Tableau í¬ë¡œìŠ¤ í•˜ì´ë¼ì´íŒ…ì˜ ì¡°í•©

### ì‚¬ì´ë“œë°” ë©”ë‰´ ì¶”ê°€
```
ëŒ€ì‹œë³´ë“œ        â†’ /backoffice/dashboard      (ìš´ì˜ ëª¨ë‹ˆí„°ë§)
í™˜ì í†µí•©       â†’ /backoffice/patients
ê²€ì§„ê²°ê³¼ ìƒë‹´    â†’ /backoffice/embedding
ë§Œì¡±ë„ ì¡°ì‚¬     â†’ /backoffice/survey
ë°ì´í„° ë¶„ì„     â†’ /backoffice/analytics      â† ì‹ ê·œ (DS íƒìƒ‰)
```

### í•µì‹¬ ì¸í„°ë™ì…˜

#### 1) URL ë™ê¸°í™” í•„í„° (Grafana íŒ¨í„´)
```
/backoffice/analytics?hospital=H001&range=30&risk=high,medium&sentiment=worried
```
í•„í„° ìƒíƒœê°€ URLì— ë°˜ì˜ë˜ì–´ **ë§í¬ ê³µìœ ** ê°€ëŠ¥

#### 2) ì°¨íŠ¸ í´ë¦­ â†’ í¬ë¡œìŠ¤ í•„í„° (Tableau + Superset íŒ¨í„´)
```
ìœ„í—˜ë„ íŒŒì´ì˜ "high" í´ë¦­
  â†’ ê°ì • ë¶„í¬, ì˜í–¥ ë¶„í¬, ê´€ì‹¬ì‚¬ ì°¨íŠ¸ ëª¨ë‘ highë§Œ ê°•ì¡°
  â†’ ë¹„ì„ íƒ ë°ì´í„°ëŠ” 20% íˆ¬ëª…ë„ë¡œ í˜ì´ë“œ
  â†’ ë“œë¦´ë‹¤ìš´ í…Œì´ë¸”ë„ highë§Œ í•„í„°
  â†’ ìƒë‹¨ì— í•„í„°ì¹© "ìœ„í—˜ë„: high Ã—" í‘œì‹œ
```

#### 3) ë¹ˆ ìƒíƒœ + ì†Œí‘œë³¸ ê²½ê³ 
```
ë°ì´í„° ì—†ì„ ë•Œ: "í•´ë‹¹ ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ê¸°ê°„ì„ ëŠ˜ë¦¬ê±°ë‚˜ í•„í„°ë¥¼ ë³€ê²½í•´ ë³´ì„¸ìš”."
N < 5ì¼ ë•Œ: "í‘œë³¸ ìˆ˜ 3ê±´ (í•´ì„ ì‹œ ì£¼ì˜)" ë°°ì§€
```

### í™”ë©´ ì„¤ê³„ (Full)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë°ì´í„° ë¶„ì„                                       [ì—‘ì…€] [JSON]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€ í•„í„° ë°” (sticky) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [ë³‘ì› â–¼] [ê¸°ê°„: 30ì¼â–¼] [ìœ„í—˜ë„ â–¼] [ê°ì • â–¼] [ì˜í–¥ â–¼] [ì´ˆê¸°í™”] â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚ ì ìš© í•„í„°: [ìœ„í—˜ë„: high Ã—] [ê°ì •: worried Ã—]    ì „ì²´ í•´ì œ    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€ Overview (KPI ì¹´ë“œ, 5ê°œ ì œí•œ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ì „ì²´ ì„¸ì…˜  â”‚ â”‚ ğŸ”´ ê³ ìœ„í—˜ â”‚ â”‚ â— í›„ì†í•„ìš”â”‚ â”‚ í‰ê· ì°¸ì—¬ë„ â”‚ â”‚ í›„ì†ë¹„ìœ¨ â”‚â”‚
â”‚  â”‚    46    â”‚ â”‚    11    â”‚ â”‚    35    â”‚ â”‚   28.5   â”‚ â”‚  76%   â”‚â”‚
â”‚  â”‚          â”‚ â”‚  23.9%   â”‚ â”‚  76.1%   â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘  â”‚ â”‚  35/46 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€ ë¶„í¬ ë¶„ì„ (2Ã—2 ê·¸ë¦¬ë“œ, ì°¨íŠ¸ í´ë¦­ = í¬ë¡œìŠ¤ í•„í„°) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  ìœ„í—˜ë„ ë¶„í¬ (ë„ë„›)      â”‚ â”‚  ê°ì • ë¶„í¬ (ë„ë„›)       â”‚            â”‚
â”‚  â”‚                        â”‚ â”‚                       â”‚            â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”            â”‚ â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”           â”‚            â”‚
â”‚  â”‚    â”‚ low  â”‚ 21 (46%)   â”‚ â”‚    â”‚neutr â”‚ 38 (83%)  â”‚            â”‚
â”‚  â”‚    â”‚ mid  â”‚ 14 (30%)   â”‚ â”‚    â”‚worri â”‚  8 (17%)  â”‚            â”‚
â”‚  â”‚    â”‚ high â”‚ 11 (24%)   â”‚ â”‚    â””â”€â”€â”€â”€â”€â”€â”˜           â”‚            â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚  âš ï¸ 2ê°œ ì¹´í…Œê³ ë¦¬ë§Œ ì¡´ì¬   â”‚            â”‚
â”‚  â”‚                        â”‚ â”‚                       â”‚            â”‚
â”‚  â”‚  [í´ë¦­í•˜ë©´ ë‹¤ë¥¸ ì°¨íŠ¸ í•„í„°]  â”‚ â”‚                       â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  í–‰ë™ì˜í–¥ (ìˆ˜í‰ ë°”)      â”‚ â”‚  ì°¸ì—¬ë„ ë¶„í¬ (ìˆ˜í‰ ë°”)   â”‚            â”‚
â”‚  â”‚                        â”‚ â”‚                       â”‚            â”‚
â”‚  â”‚  passive  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 33  â”‚ â”‚  minimal â–ˆâ–ˆâ–ˆâ–ˆ    11   â”‚            â”‚
â”‚  â”‚  consider â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   13   â”‚ â”‚  low     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 28 â”‚            â”‚
â”‚  â”‚  active   â–‘          0 â”‚ â”‚  mid     â–ˆâ–ˆâ–ˆ       7  â”‚            â”‚
â”‚  â”‚                        â”‚ â”‚  high    â–‘          0 â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€ ê´€ì‹¬ì‚¬ ë¶„ì„ â–¾ (ì ‘ì´ì‹ ì„¹ì…˜) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ê´€ì‹¬ì‚¬ íƒœê·¸ TOP 15 (ìˆ˜í‰ ë°”)                              â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  í˜ˆì••           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 2                               â”‚    â”‚
â”‚  â”‚  ì‹ ì‚¬êµ¬ì²´ì—¬ê³¼ìœ¨    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 2                               â”‚    â”‚
â”‚  â”‚  AST            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 2                               â”‚    â”‚
â”‚  â”‚  í—¤ëª¨ê¸€ë¡œë¹ˆ       â–ˆâ–ˆâ–ˆâ–ˆ 1                                   â”‚    â”‚
â”‚  â”‚  ì¤‘ì„±ì§€ë°©         â–ˆâ–ˆâ–ˆâ–ˆ 1                                   â”‚    â”‚
â”‚  â”‚  ì½œë ˆìŠ¤í…Œë¡¤       â–ˆâ–ˆâ–ˆâ–ˆ 1                                   â”‚    â”‚
â”‚  â”‚  ê°„ìˆ˜ì¹˜          â–ˆâ–ˆâ–ˆâ–ˆ 1                                   â”‚    â”‚
â”‚  â”‚  ...                                                     â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  âš ï¸ ê´€ì‹¬ì‚¬ê°€ ììœ í˜• í…ìŠ¤íŠ¸ë¼ ì •ê·œí™” ì „ â€” ìœ ì‚¬ íƒœê·¸ ê·¸ë£¹í•‘ ì˜ˆì •  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  í•µì‹¬ ìš°ë ¤ì‚¬í•­ TOP 10                                     â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  1. ê°„ìˆ˜ì¹˜ AST, ALT ìˆ˜ì¹˜ê°€ ì •ìƒ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ”ì§€            â”‚    â”‚
â”‚  â”‚  2. ê³ ì§€í˜ˆì¦ì•½ ì¤‘ë‹¨ ê°€ëŠ¥ ì—¬ë¶€                               â”‚    â”‚
â”‚  â”‚  3. í˜ˆìƒ‰ì†Œ ìˆ˜ì¹˜ê°€ ë†’ì•„ì„œ ìœ„í—˜í• ì§€ ê±±ì •                       â”‚    â”‚
â”‚  â”‚  4. ì²´ì¤‘ ê°ëŸ‰ ì‹ë‹¨                                        â”‚    â”‚
â”‚  â”‚  5. ê±´ê°•ê²€ì§„ ê²°ê³¼ í•´ì„                                     â”‚    â”‚
â”‚  â”‚  ...                                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€ ì‹œê³„ì—´ â–¾ (ì ‘ì´ì‹) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ì¼ë³„ ì„¸ì…˜ ì¶”ì´ (ìœ„í—˜ë„ë³„ Â· syncIdë¡œ ë¸ŒëŸ¬ì‹œ ì—°ë™)            â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  5â”‚        â•±â•²                                           â”‚    â”‚
â”‚  â”‚  4â”‚  â”€â”€â•±â”€â”€â•±  â•²â”€â”€â”€â”€ low (ì´ˆë¡)                           â”‚    â”‚
â”‚  â”‚  3â”‚ â•±        â•²     â”€â”€â”€â”€ medium (ì£¼í™©)                   â”‚    â”‚
â”‚  â”‚  2â”‚â•±          â•²â•±â•²  â”€â”€â”€â”€ high (ë¹¨ê°•)                     â”‚    â”‚
â”‚  â”‚  1â”‚                â•²                                    â”‚    â”‚
â”‚  â”‚  0â”œâ”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€                                â”‚    â”‚
â”‚  â”‚    2/9 10 11 12 13 14 15                                â”‚    â”‚
â”‚  â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• [Brush: ë²”ìœ„ ì„ íƒ]             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€ ë“œë¦´ë‹¤ìš´ í…Œì´ë¸” â–¾ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ í•„í„° ê²°ê³¼: 11ê±´ / ì „ì²´ 46ê±´                [ì—‘ì…€] [JSON]  â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ë‚ ì§œ â”‚ë³‘ì›      â”‚ìœ„í—˜â”‚ê°ì •    â”‚ì˜í–¥  â”‚ì°¸ì—¬â”‚í›„ì†â”‚ìš”ì•½          â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚2/15â”‚ì²œì•ˆìš°ë¦¬  â”‚ğŸ”´ â”‚neutralâ”‚ì†Œê·¹  â”‚ 35 â”‚ â— â”‚ê°„ìˆ˜ì¹˜ AST.. â”‚    â”‚
â”‚  â”‚2/15â”‚ë¶„ë‹¹ì°¨   â”‚ğŸŸ¡ â”‚worriedâ”‚ê³ ë ¤  â”‚ 42 â”‚ â— â”‚í˜ˆì•• ê²½ê³„..  â”‚    â”‚
â”‚  â”‚2/14â”‚í•¨ì¶˜ì—¬ì„± â”‚ğŸŸ¢ â”‚neutralâ”‚ì†Œê·¹  â”‚ 15 â”‚   â”‚ì²´ì¤‘ ê´€ë¦¬..  â”‚    â”‚
â”‚  â”‚... â”‚        â”‚   â”‚       â”‚     â”‚    â”‚   â”‚            â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  â—€ 1 2 3 â–¶  (20ê±´/í˜ì´ì§€)                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•„í„° ìƒì„¸

| í•„í„° | íƒ€ì… | ì˜µì…˜ | UI íŒ¨í„´ |
|------|------|------|---------|
| ë³‘ì› | ë“œë¡­ë‹¤ìš´ (ê²€ìƒ‰) | ì „ì²´ + ë³‘ì› ëª©ë¡ | `<select>` with search |
| ê¸°ê°„ | í”„ë¦¬ì…‹ + ì»¤ìŠ¤í…€ | ì˜¤ëŠ˜/7ì¼/30ì¼/90ì¼/ì „ì²´ | í† ê¸€ ë²„íŠ¼ |
| ìœ„í—˜ë„ | ë©€í‹°ì…€ë ‰íŠ¸ ì¹© | low / medium / high | í´ë¦­ í† ê¸€ ì¹© |
| ê°ì • | ë©€í‹°ì…€ë ‰íŠ¸ ì¹© | neutral / worried / ... | í´ë¦­ í† ê¸€ ì¹© |
| ì˜í–¥ | ë©€í‹°ì…€ë ‰íŠ¸ ì¹© | active / considering / passive | í´ë¦­ í† ê¸€ ì¹© |
| í›„ì†í•„ìš” | í† ê¸€ | ì „ì²´ / í•„ìš”ë§Œ | ë‹¨ì¼ í† ê¸€ |

### í¬ë¡œìŠ¤ í•„í„° êµ¬í˜„ (React Context)

```typescript
// AnalyticsFilterContext
interface CrossFilter {
  dimension: 'risk_level' | 'sentiment' | 'action_intent' | 'engagement';
  value: string;
}

const AnalyticsContext = createContext<{
  filters: FilterState;
  crossFilter: CrossFilter | null;
  setFilters: (f: Partial<FilterState>) => void;
  setCrossFilter: (cf: CrossFilter | null) => void;
}>();
```

ì°¨íŠ¸ í´ë¦­ ì‹œ:
1. `setCrossFilter({ dimension: 'risk_level', value: 'high' })`
2. ëª¨ë“  ì°¨íŠ¸ê°€ context êµ¬ë… â†’ ë¹„ì„ íƒ ë°ì´í„° `opacity: 0.2`
3. ë“œë¦´ë‹¤ìš´ í…Œì´ë¸”ë„ í•„í„° ì ìš©
4. ìƒë‹¨ì— í•„í„°ì¹© í‘œì‹œ: `[ìœ„í—˜ë„: high Ã—]`

### ë°±ì—”ë“œ API

`POST /partner-office/analytics`

```json
// Request
{
  "hospital_id": null,
  "date_from": "2026-01-15",
  "date_to": "2026-02-15",
  "risk_levels": ["high", "medium"],
  "sentiments": [],
  "action_intents": [],
  "follow_up_only": false,
  "page": 1,
  "page_size": 20
}

// Response
{
  "summary": {
    "total_sessions": 25,
    "high_risk": 11,
    "follow_up_needed": 20,
    "avg_engagement": 28.5,
    "follow_up_rate": 76.1
  },
  "risk_distribution": [
    {"name": "low", "value": 21},
    {"name": "medium", "value": 14},
    {"name": "high", "value": 11}
  ],
  "sentiment_distribution": [
    {"name": "neutral", "value": 38},
    {"name": "worried", "value": 8}
  ],
  "intent_distribution": [
    {"name": "passive", "value": 33},
    {"name": "considering", "value": 13}
  ],
  "engagement_distribution": [
    {"name": "minimal(0-19)", "value": 11},
    {"name": "low(20-49)", "value": 28},
    {"name": "mid(50-79)", "value": 7}
  ],
  "interest_tags": [
    {"topic": "í˜ˆì••", "count": 2},
    {"topic": "ì‹ ì‚¬êµ¬ì²´ì—¬ê³¼ìœ¨", "count": 2}
  ],
  "key_concerns": [
    "ê°„ìˆ˜ì¹˜ AST, ALT ìˆ˜ì¹˜ê°€ ì •ìƒ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ”ì§€",
    "ê³ ì§€í˜ˆì¦ì•½ ì¤‘ë‹¨ ê°€ëŠ¥ ì—¬ë¶€"
  ],
  "daily_trend": [
    {"date": "2026-02-15", "low": 3, "medium": 2, "high": 1}
  ],
  "sessions": [
    {
      "session_id": "xxx",
      "hospital_name": "ì²œì•ˆìš°ë¦¬ë³‘ì›",
      "created_at": "2026-02-15T21:00:00",
      "risk_level": "high",
      "sentiment": "worried",
      "action_intent": "considering",
      "engagement_score": 42,
      "follow_up_needed": true,
      "summary": "ê°„ìˆ˜ì¹˜ ìƒìŠ¹ì— ëŒ€í•´...",
      "interest_tags": ["í˜ˆì••", "ê°„ìˆ˜ì¹˜"],
      "key_concerns": ["ê°„ìˆ˜ì¹˜ ë†’ìŒ"]
    }
  ],
  "total_sessions_in_page": 25,
  "page": 1,
  "page_size": 20
}
```

---

## D. ê¸°ì¡´ ëŒ€ì‹œë³´ë“œ ê°œì„  (ì„ íƒì‚¬í•­)

í˜„ì¬ ëŒ€ì‹œë³´ë“œì— DS ë„êµ¬ íŒ¨í„´ ì ìš©:

| ê°œì„  | íŒ¨í„´ ì¶œì²˜ | ì„¤ëª… |
|------|----------|------|
| ì°¨íŠ¸ í´ë¦­ ë“œë¦´ë‹¤ìš´ | Metabase | ë°” ì°¨íŠ¸ í´ë¦­ â†’ í™˜ìí†µí•©ìœ¼ë¡œ í•„í„° ì´ë™ |
| ì ‘ì´ì‹ ì„¹ì…˜ | Grafana | "ì‚¬ìš©ì ì—¬ì • ë¶„ì„" ì„¹ì…˜ ì ‘ê¸°/í¼ì¹˜ê¸° |
| ë¹ˆ ìƒíƒœ ì²˜ë¦¬ | ê³µí†µ | "ë°ì´í„° ì—†ìŒ" ë©”ì‹œì§€ + í•„í„° ë³€ê²½ ì œì•ˆ |
| ì„ê³„ê°’ ìƒ‰ìƒ | Grafana | ê³ ìœ„í—˜ ì¹´ë“œ ìˆ˜ì¹˜ì— ìë™ ë¹¨ê°•/ì£¼í™©/ì´ˆë¡ |
| auto-fit ê·¸ë¦¬ë“œ | Grafana 12 | `repeat(auto-fit, minmax(380px, 1fr))` |

> Cì˜ ë¶„ì„ ëŒ€ì‹œë³´ë“œê°€ DS ê¸°ëŠ¥ì„ ì „ë‹´í•˜ë¯€ë¡œ ìš°ì„ ìˆœìœ„ ë‚®ìŒ

---

## ìˆ˜ì • íŒŒì¼ ëª©ë¡

### Phase 1: B. ìƒë‹´ í…Œì´ë¸” ê°•í™” (ë‚œì´ë„ ë‚®ìŒ)

| íŒŒì¼ | ë³€ê²½ |
|------|------|
| `backend/app/api/v1/endpoints/partner_office.py` | detail SQLì— íƒœê¹… í•„ë“œ 8ê°œ ì¶”ê°€ |
| `backoffice/src/pages/PatientPage/index.tsx` | ChatItem ì¸í„°í˜ì´ìŠ¤ í™•ì¥, ì»¬ëŸ¼ 2ê°œ ì¶”ê°€, í™•ì¥ë·° ë¦¬ë””ìì¸ |
| `backoffice/src/pages/PatientPage/styles.scss` | íƒœê·¸ì¹©, ê²Œì´ì§€ë°”, ìš°ë ¤ì‚¬í•­ ì¹´ë“œ ìŠ¤íƒ€ì¼ |

### Phase 2: A. ì„œë² ì´ ì²« ì§„ì… ì¹´ë“œ (ë‚œì´ë„ ì¤‘ê°„)

| íŒŒì¼ | ë³€ê²½ |
|------|------|
| `backend/app/api/v1/endpoints/hospital_survey.py` | `GET /today-summary` API ì‹ ê·œ |
| `backoffice/src/pages/SurveyPage/index.tsx` | ì¹´ë“œ ê·¸ë¦¬ë“œ + ìš”ì•½ ì¹´ë“œ |
| `backoffice/src/pages/SurveyPage/styles.scss` | ì¹´ë“œ ìŠ¤íƒ€ì¼ |

### Phase 3: C. ë°ì´í„° ë¶„ì„ ëŒ€ì‹œë³´ë“œ (ë‚œì´ë„ ë†’ìŒ)

| íŒŒì¼ | ë³€ê²½ |
|------|------|
| `backend/app/api/v1/endpoints/partner_office.py` | `POST /analytics` API ì‹ ê·œ |
| `backoffice/src/pages/AnalyticsPage/index.tsx` | **ì‹ ê·œ** â€” í•„í„°+ì°¨íŠ¸+í…Œì´ë¸” |
| `backoffice/src/pages/AnalyticsPage/styles.scss` | **ì‹ ê·œ** |
| `backoffice/src/App.tsx` | ë¼ìš°íŠ¸ ì¶”ê°€ |
| `backoffice/src/layouts/PartnerOfficeLayout/index.tsx` | ë©”ë‰´ í•­ëª© ì¶”ê°€ |
| `package.json` | @tanstack/react-table, @nivo/heatmap, rc-slider ì¶”ê°€ |

---

## ì‘ì—… ìˆœì„œ

```
Phase 1: B. ìƒë‹´ í…Œì´ë¸” ê°•í™”
  â”œâ”€â”€ BE: partner_office.py detail SQL ìˆ˜ì •
  â”œâ”€â”€ FE: PatientPage ì»¬ëŸ¼ ì¶”ê°€ + í™•ì¥ë·° ë¦¬ë””ìì¸
  â””â”€â”€ ë¹Œë“œ & ë°°í¬

Phase 2: A. ì„œë² ì´ ì²« ì§„ì… ì¹´ë“œ
  â”œâ”€â”€ BE: today-summary API
  â”œâ”€â”€ FE: SurveyPage ì¹´ë“œ ê·¸ë¦¬ë“œ
  â””â”€â”€ ë¹Œë“œ & ë°°í¬

Phase 3: C. ë°ì´í„° ë¶„ì„ ëŒ€ì‹œë³´ë“œ
  â”œâ”€â”€ npm install ì‹ ê·œ ë¼ì´ë¸ŒëŸ¬ë¦¬
  â”œâ”€â”€ BE: analytics API
  â”œâ”€â”€ FE: AnalyticsPage (í•„í„° â†’ ì°¨íŠ¸ â†’ í…Œì´ë¸”)
  â”œâ”€â”€ ë¼ìš°íŠ¸ + ë©”ë‰´ ë“±ë¡
  â””â”€â”€ ë¹Œë“œ & ë°°í¬
```
