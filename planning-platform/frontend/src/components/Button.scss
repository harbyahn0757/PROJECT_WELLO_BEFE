@use '../styles/variables' as *;
@use '../styles/mixins' as *;

.button {
  @include button-base;
  position: relative;
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
  
  // 플로팅 버튼인 경우 기본 스타일 오버라이드
  &.floating-button {
    border-radius: 0 !important;
    border-top-left-radius: 12px !important;
    border-top-right-radius: 12px !important;
    border-bottom-left-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
    min-height: $floating-button-height !important; // 버튼 높이 (상수 사용)
    padding: $floating-button-padding-vertical $floating-button-padding-horizontal !important; // 상수 사용
    padding-bottom: $floating-button-padding-vertical !important; // 하단 패딩도 상수 사용
    font-size: $floating-button-font-size !important; // 폰트 크기 (상수 사용)
    margin: 0 !important;
    margin-bottom: 0 !important;
    border-bottom: none !important;
    
    &::after,
    &::before {
      display: none !important;
      content: none !important;
      background: none !important;
      border: none !important;
    }
  }
  
  // 기본 스타일
  &--primary {
    @include button-brand;
  }
  
  &--secondary {
    background-color: $white;
    color: $brand-brown;
    border: 2px solid $brand-brown;
    
    &:hover:not(:disabled) {
      background-color: $brand-brown;
      color: $white;
    }
  }
  
  &--outline {
    background-color: transparent;
    color: $brand-brown;
    border: 2px solid $brand-brown;
    
    &:hover:not(:disabled) {
      background-color: $brand-brown-light;
    }
  }
  
  // 크기 변형
  &--small {
    padding: $spacing-sm $spacing-md;
    font-size: $font-sm;
    border-radius: $border-radius-md;
  }
  
  &--medium {
    padding: $spacing-md $spacing-lg;
    font-size: $font-base;
    border-radius: $border-radius-lg;
  }
  
  &--large {
    padding: $spacing-lg $spacing-2xl;
    font-size: $font-lg;
    border-radius: $border-radius-lg;
    font-weight: 700;
  }
  
  // 상태 변형
  &--disabled {
    opacity: 0.5;
    cursor: not-allowed;
    
    &:hover {
      transform: none;
    }
  }
  
  &--loading {
    cursor: wait;
    
    .button__content {
      opacity: 0.7;
    }
  }
  
  // 로딩 스피너
  &__spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }
  
  &__content {
    transition: opacity 0.2s ease;
  }
}

@keyframes spin {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}
