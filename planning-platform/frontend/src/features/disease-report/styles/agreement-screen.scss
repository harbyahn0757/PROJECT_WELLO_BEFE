/* 동의 화면 스타일 */

// 백그라운드 오버레이 - 클릭 시 닫기 (독립적으로 배치)
.agreement-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 199; // 패널(z-index: 200) 아래, 배경 위
  cursor: pointer;
  opacity: 1;
  transition: opacity 0.6s ease-out;
  pointer-events: auto;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.agreement-screen {
  position: fixed;
  bottom: 80px; // 플로팅 버튼 높이만큼 위로 (버튼이 가려지지 않도록)
  left: 0;
  right: 0;
  z-index: 200;
  transform: translateY(100%);
  transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), bottom 0.5s ease-out;
  pointer-events: none;
  will-change: transform, bottom;

  &.open {
    transform: translateY(0);
    pointer-events: auto;
  }

  // 스크롤 시 살짝만 보이는 상태 (peek) - 조금만 덜 보이도록
  &.peek {
    transform: translateY(calc(100% - 50px)) !important; // 조금만 덜 보이게 (65px → 50px)
    pointer-events: auto; // 터치 가능하도록
    // peek 상태로 전환될 때 부드럽게 올라오도록 애니메이션
    transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
    
    // peek 상태일 때 패널 상단 그림자 영역 반짝이는 애니메이션
    .agreement-content {
      animation: shadow-shimmer 3s ease-in-out infinite;
    }
  }
  
  @keyframes shadow-shimmer {
    0%, 100% {
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
    }
    50% {
      box-shadow: 0 -4px 20px rgba(255, 255, 255, 0.15), 0 -4px 30px rgba(0, 0, 0, 0.4);
    }
  }

  &.lifted {
    bottom: 120px; // 위로 더 올라감
  }

  .agreement-content {
    position: relative;
    z-index: 2;
    background: #ffffff;
    border-top-left-radius: 24px;
    border-top-right-radius: 24px;
    padding: 20px 20px 24px;
    max-height: 55vh; // 초기 패널 높이 (JavaScript로 동적 조정 가능)
    display: flex;
    flex-direction: column;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
    overflow-y: auto; // 패널 전체에 스크롤 적용
    overflow-x: hidden;
    touch-action: pan-y; // 세로 스크롤만 허용
    transition: max-height 0.5s ease-out; // 패널 높이 변화 애니메이션

    /* 스크롤바 숨기기 */
    &::-webkit-scrollbar {
      display: none;
      width: 0;
    }

    -ms-overflow-style: none; // IE, Edge 스크롤바 숨김
    scrollbar-width: none; // Firefox 스크롤바 숨김

    &.expanded {
      max-height: 75vh; // 전체 동의 클릭 시 패널 높이 확장 (조금 더 줄임: 80vh → 75vh)
    }
  }

  .agreement-header,
  .agreement-birthdate-top-section {
    cursor: grab; // 드래그 가능 표시
    user-select: none; // 텍스트 선택 방지
    
    &:active {
      cursor: grabbing; // 드래그 중 표시
    }
  }

  .agreement-header {
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 12px;

    .xog-icon {
      max-width: 48px;
      max-height: 48px;
      width: auto;
      height: auto;
      object-fit: contain;
      flex-shrink: 0;
      
      // peek 상태일 때 반짝이는 애니메이션
      &.peek-shimmer {
        animation: shimmer 2s ease-in-out infinite;
      }
    }
    
    @keyframes shimmer {
      0%, 100% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.6;
        transform: scale(1.1);
      }
    }

    h2 {
      font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      font-size: 24px;
      font-weight: 700;
      color: #333333;
      margin: 0;
    }
  }

  /* 상단: 고객 정보 확인 섹션 */
  .agreement-birthdate-top-section {
    margin-bottom: 12px; // 간격 줄임 (16px → 12px)
    padding-bottom: 12px; // 간격 줄임 (16px → 12px)
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);

    /* 오른쪽 정렬 */
    .right-align {
      display: flex;
      justify-content: flex-end;
      margin-bottom: 4px; // 간격 줄임 (8px → 4px)

      .agreement-checkbox {
        flex: 0 0 auto;
      }
    }

    /* 이름 표시 */
    .name-display-wrapper {
      margin-bottom: 16px; // 이름이 있을 때만 간격 유지

      .name-label-value {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 8px; // 간격 줄임 (16px → 8px)

        .name-label {
          font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
          font-size: 16px;
          font-weight: 500;
          color: #666666;
          min-width: 70px;
        }
      }

      .name-display-clickable {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 16px;
        background: rgba(0, 0, 0, 0.05);
        border: 2px solid rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;

        &:hover {
          background: rgba(0, 0, 0, 0.08);
          border-color: rgba(0, 0, 0, 0.15);
        }

        .name-text {
          font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
          font-size: 16px;
          font-weight: 600;
          color: #FFB84D;
        }
      }
    }

    .birthdate-display-wrapper {
      margin-bottom: 8px; // 간격 줄임 (16px → 8px)
      // 이름이 없을 때도 동일한 위치에 표시되도록 min-height 설정
      min-height: 0; // 기본값

      .birthdate-label-value {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 8px; // 간격 줄임 (16px → 8px)

        .birthdate-label {
          font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
          font-size: 16px;
          font-weight: 500;
          color: #666666;
          min-width: 70px;
        }
      }

      .birthdate-display-clickable {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 16px;
        background: rgba(0, 0, 0, 0.05);
        border: 2px solid rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;

        &:hover {
          background: rgba(0, 0, 0, 0.08);
          border-color: rgba(0, 0, 0, 0.15);
        }

        .birthdate-text {
          font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
          font-size: 16px;
          font-weight: 600;
          color: #FFB84D;
        }

        .birthdate-placeholder {
          font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
          font-size: 16px;
          font-weight: 500;
          color: #999999;
        }

        .birthdate-arrow {
          font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
          font-size: 14px;
          color: #666666;
          transition: transform 0.3s ease;

          &.open {
            transform: rotate(180deg);
          }
        }
      }

      .birthdate-dropdown-wrapper {
        margin-left: 82px; // 레이블 너비(70px) + gap(12px) = 생년월일 클릭 영역과 동일한 시작 위치
        margin-top: 16px;
        width: calc(100% - 82px); // 생년월일 클릭 영역과 동일한 너비

        .custom-date-picker {
          background: transparent;
          border: none;
          border-radius: 0;
          padding: 0;
          box-shadow: none;
          margin: 0;
          width: 100%;

          .date-picker-selects {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 16px;
            margin-bottom: 0;
            width: 100%;

            .select-group {
              position: relative;
              display: flex;
              align-items: center;

              .date-select {
                flex: 1;
                width: 100%;
                padding: 12px 16px; // 오른쪽 패딩 (화살표만)
                background: rgba(0, 0, 0, 0.05);
                border: 2px solid rgba(0, 0, 0, 0.1);
                border-radius: 12px;
                color: #333333;
                font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
                font-size: 16px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.3s ease;
                appearance: none;
                -webkit-appearance: none;
                -moz-appearance: none;
                // 드롭다운 화살표 추가
                background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%23333333' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
                background-position: right 12px center;
                background-repeat: no-repeat;
                background-size: 16px;

                &:hover {
                  border-color: rgba(0, 0, 0, 0.2);
                  background-color: rgba(0, 0, 0, 0.08);
                }

                &:focus {
                  outline: none;
                  border-color: #FFB84D;
                  background-color: rgba(0, 0, 0, 0.08);
                }

                &:disabled {
                  opacity: 0.5;
                  cursor: not-allowed;
                }

                option {
                  background: #ffffff;
                  color: #333333;
                }
              }

              // select-label 완전히 숨김 (년, 월, 일 라벨 제거)
              .select-label {
                display: none;
              }
            }
          }

          .date-picker-footer {
            display: none; // full 모드에서는 footer 숨김
          }
        }
      }

      .birthdate-usage-hint {
        font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
        font-size: 13px; // 11px → 13px (+2px)
        color: #999999;
        margin-top: 8px;
        margin-left: 82px; // 레이블 너비(70px) + gap(12px)와 동일한 시작 위치
        text-align: right; // 오른쪽 정렬
        line-height: 1.4;

        .mobile-text {
          display: none; // 데스크톱에서는 숨김
        }

        .desktop-text {
          display: inline; // 데스크톱에서는 표시
        }
      }
    }
  }

  .agreement-terms-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-height: 0;
    overflow-y: visible; // 스크롤 제거 (패널 전체에 스크롤 적용)
  }

  .agreement-list {
    flex: 1;
    overflow-y: visible; // 스크롤 제거 (패널 전체에 스크롤 적용)
    margin-bottom: 12px; // 간격 줄임
    min-height: 0;

    /* 생년월일 입력 섹션 (기존 - 제거 예정) */
    .agreement-birthdate-section {
      margin-bottom: 24px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);

      .birthdate-title {
        font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
        font-size: 18px;
        font-weight: 600;
        color: #ffffff;
        margin: 0 0 16px 0;
        text-align: center;
      }

      .birthdate-note {
        font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
        font-size: 12px;
        color: rgba(255, 255, 255, 0.6);
        text-align: center;
        margin-top: 16px;
      }

      /* CustomCalendar 스타일 오버라이드 */
      .custom-date-picker {
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 16px;
        padding: 20px;
        box-shadow: none;
        margin: 0;

        &.compact-mode {
          .date-picker-display-top {
            padding: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            margin-bottom: 16px;
            text-align: center;
            transition: all 0.3s ease;

            &:hover {
              background: rgba(255, 255, 255, 0.15);
            }

            .selected-date-display {
              font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
              font-size: 18px;
              font-weight: 600;
              color: #ffffff;
              margin-bottom: 8px;

              &.has-date {
                color: #FFB84D;
              }
            }

            .edit-hint {
              font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
              font-size: 12px;
              color: rgba(255, 255, 255, 0.6);
              display: block;
              margin-top: 8px;
            }
          }
        }

        .date-picker-selects {
          display: grid;
          grid-template-columns: 2fr 1fr 1fr;
          gap: 16px;
          margin-bottom: 0;

          .select-group {
            position: relative;

            .date-select {
              width: 100%;
              padding: 12px 16px;
              background: rgba(255, 255, 255, 0.1);
              border: 2px solid rgba(255, 255, 255, 0.2);
              border-radius: 12px;
              color: #ffffff;
              font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
              font-size: 16px;
              font-weight: 500;
              cursor: pointer;
              transition: all 0.3s ease;
              appearance: none;
              -webkit-appearance: none;
              -moz-appearance: none;

              &:hover {
                border-color: rgba(255, 255, 255, 0.4);
                background: rgba(255, 255, 255, 0.15);
              }

              &:focus {
                outline: none;
                border-color: #FFB84D;
                background: rgba(255, 255, 255, 0.15);
              }

              &:disabled {
                opacity: 0.5;
                cursor: not-allowed;
              }

              option {
                background: #4a4a4a;
                color: #ffffff;
              }
            }

            .select-label {
              position: absolute;
              right: 16px;
              top: 50%;
              transform: translateY(-50%);
              font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
              font-size: 14px;
              color: rgba(255, 255, 255, 0.7);
              pointer-events: none;
            }
          }
        }

        .date-picker-footer {
          margin-top: 16px;
          padding-top: 16px;
          border-top: 1px solid rgba(255, 255, 255, 0.1);

          .selected-date-display {
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            font-size: 16px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;

            &.has-date {
              color: #FFB84D;
              font-weight: 600;
            }
          }
        }
      }
    }
  }

  .agreement-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 0; // 간격 줄임 (16px → 10px)
    border-bottom: none;

    &.select-all {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      padding-bottom: 8px; // 간격 줄임 (12px → 8px)
      margin-bottom: 2px; // 간격 줄임 (4px → 2px)
    }

    &.birthdate-confirm-item {
      margin-top: 4px; // "본인이 맞습니다" 위 간격 줄임
      margin-bottom: 4px; // "본인이 맞습니다" 아래 간격 줄임
    }

    /* 오른쪽 정렬 */
    &.right-align {
      justify-content: flex-end;

      .agreement-checkbox {
        flex: 0 0 auto;
      }
    }

    .agreement-checkbox {
      display: flex;
      align-items: center;
      flex: 1;
      cursor: pointer;
      user-select: none;

      input[type="checkbox"] {
        display: none;
      }

      .checkmark {
        width: 18px; // 체크박스 작게 (20px → 18px)
        height: 18px; // 체크박스 작게 (20px → 18px)
        border: 2px solid rgba(0, 0, 0, 0.3);
        border-radius: 4px;
        margin-right: 10px; // 간격 조정 (12px → 10px)
        position: relative;
        transition: all 0.2s ease;
        flex-shrink: 0;

        &::after {
          content: '';
          position: absolute;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%) scale(0);
          width: 10px; // 체크 표시 작게 (12px → 10px)
          height: 10px; // 체크 표시 작게 (12px → 10px)
          background: #FFB84D;
          border-radius: 2px;
          transition: transform 0.2s ease;
        }
      }

      input[type="checkbox"]:checked + .checkmark {
        background: #FFB84D;
        border-color: #FFB84D;

        &::after {
          content: '✓';
          position: absolute;
          left: 50%;
          top: 45%;
          transform: translate(-50%, -50%);
          color: #ffffff;
          font-size: 12px; // 체크 표시 폰트 작게 (14px → 12px)
          font-weight: bold;
          line-height: 1;
        }
      }

      .label-text {
        font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
        font-size: 17px;
        color: #999999; // 회색으로 변경 (#333333 → #999999)
        font-weight: 400;
        display: flex;
        align-items: flex-start; // 여러 줄일 때 상단 정렬
        gap: 8px;

        .label-text-content {
          flex: 1;
          min-width: 0; // 줄바꿈 허용
          word-break: break-word; // 긴 단어도 줄바꿈
          line-height: 1.5; // 줄간격
          color: #999999; // 약한 회색으로 변경 (#333333 → #999999)
        }

        .required-badge,
        .optional-badge {
          font-size: 16px; // 본문(17px) - 1
          color: #999999; // 동의 텍스트와 동일한 색 (#333333 → #999999)
          font-weight: 400; // 본문과 동일
          flex-shrink: 0; // 배지가 줄바꿈되지 않도록
          white-space: nowrap; // 배지 텍스트 줄바꿈 방지
          margin-top: 2px; // 텍스트와 정렬 맞추기
        }
      }
    }

    .view-terms-btn {
      background: transparent;
      border: none;
      color: #666666;
      font-size: 18px; // ">" 아이콘 크기 조정
      font-weight: 400;
      cursor: pointer;
      padding: 4px 8px;
      font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      transition: color 0.2s ease, transform 0.2s ease;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); // 약간의 음영 처리
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 24px; // 클릭 영역 확보

      &:hover {
        color: #333333;
        transform: translateX(2px); // 호버 시 살짝 오른쪽으로 이동
      }
    }

    &.third-party-item {
      .agreement-checkbox .label-text {
        font-size: 17px; // 다른 항목과 동일한 크기
      }
    }
  }

  .agreement-divider {
    display: none;
  }

  .agreement-divider-light {
    height: 1px;
    background: rgba(255, 255, 255, 0.05);
    margin: 12px 0;
  }

}

// 플로팅 버튼 - 전체 화면 하단 고정 (패널과 완전히 독립, Fragment 최상위 레벨)
.agreement-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 201; // 패널(z-index: 200) 위에 표시
  padding: 16px 20px;
  background: #ffffff;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
  // 패널 transform과 완전히 독립 - Fragment 최상위 레벨에 있어서 영향 없음

  .create-button {
    width: 100%;
    padding: 16px 24px;
    background: #FFB84D;
    border: 1px solid #FFB84D;
    border-radius: 16px;
    color: #ffffff;
    font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    font-size: 18px;
    font-weight: 500;
    letter-spacing: 0.05em;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(255, 184, 77, 0.3);

    &:hover:not(:disabled) {
      background: #FFA500;
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(255, 184, 77, 0.4);
    }

    &:active:not(:disabled) {
      transform: translateY(0);
    }

    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background: #FFB84D;
    }
  }
}

/* 모바일 대응 */
@media (max-width: 480px) {
  .agreement-screen {
    bottom: 70px !important; // 모바일에서 플로팅 버튼 높이만큼 위로
    
    // 패널이 열리지 않았을 때 완전히 숨김 (peek 상태가 아닐 때만)
    &:not(.open):not(.peek) {
      transform: translateY(calc(100% + 70px)) !important; // 패널 높이 + bottom 값만큼 더 아래로
    }
    
    &.open {
      transform: translateY(0) !important;
    }
    
    // 스크롤 시 살짝만 보이는 상태 (모바일) - 조금만 덜 보이도록
    &.peek {
      transform: translateY(calc(100% - 45px)) !important; // 조금만 덜 보이게 (60px → 45px)
      // peek 상태로 전환될 때 부드럽게 올라오도록 애니메이션
      transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
      
      // peek 상태일 때 패널 상단 그림자 영역 반짝이는 애니메이션 (모바일)
      .agreement-content {
        animation: shadow-shimmer-mobile 3s ease-in-out infinite;
      }
    }
    
    @keyframes shadow-shimmer-mobile {
      0%, 100% {
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
      }
      50% {
        box-shadow: 0 -4px 20px rgba(255, 255, 255, 0.15), 0 -4px 30px rgba(0, 0, 0, 0.4);
      }
    }
    
    &.lifted {
      bottom: 100px !important; // 모바일에서 위로 더 올라감
    }
    
    .agreement-content {
      padding: 20px 16px 24px;
      max-height: 50vh !important; // 모바일에서 초기 패널 높이 더 낮추기 (60vh → 50vh)

      &.expanded {
        max-height: 70vh !important; // 전체 동의 클릭 시 패널 높이 확장 (조금 더 줄임: 75vh → 70vh)
      }
    }

    .agreement-header {
      margin-bottom: 16px; // 간격 줄임
      
      .xog-icon {
        max-width: 36px; // 간격 줄임 (40px → 36px)
        max-height: 36px; // 간격 줄임 (40px → 36px)
        width: auto;
        height: auto;
        object-fit: contain;
        
        // peek 상태일 때 반짝이는 애니메이션 (모바일)
        &.peek-shimmer {
          animation: shimmer-mobile 2s ease-in-out infinite;
        }
      }
      
      @keyframes shimmer-mobile {
        0%, 100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.6;
          transform: scale(1.1);
        }
      }

      h2 {
        font-size: 18px; // 폰트 작게 (22px → 18px)
        line-height: 1.3; // 줄간격 조정
      }
    }

    .agreement-birthdate-top-section {
      margin-bottom: 8px; // 간격 줄임 (12px → 8px)
      padding-bottom: 8px; // 간격 줄임 (12px → 8px)

      .name-display-wrapper {
        margin-bottom: 6px; // 간격 줄임

        .name-display-clickable {
          padding: 10px 12px; // 높이 줄임 (16px → 10px)
          font-size: 15px; // 폰트 약간 줄임
        }
      }

      .birthdate-display-wrapper {
        margin-bottom: 6px; // 간격 줄임

        .birthdate-display-clickable {
          padding: 10px 12px; // 높이 줄임 (16px → 10px)
        }

        .birthdate-text,
        .birthdate-placeholder {
          font-size: 15px; // 폰트 약간 줄임
        }

        .birthdate-usage-hint {
          .mobile-text {
            display: inline; // 모바일에서는 표시
          }

          .desktop-text {
            display: none; // 모바일에서는 숨김
          }
        }
      }

      .right-align {
        margin-bottom: 2px; // 간격 줄임 (4px → 2px)
      }
    }

    .agreement-item {
      padding: 8px 0; // 간격 줄임 (10px → 8px)

      &.select-all {
        padding-bottom: 6px; // 간격 줄임 (8px → 6px)
        margin-bottom: 2px; // 간격 줄임
      }

      &.birthdate-confirm-item {
        margin-top: 2px; // "본인이 맞습니다" 위 간격 줄임 (4px → 2px)
        margin-bottom: 2px; // "본인이 맞습니다" 아래 간격 줄임 (4px → 2px)
      }

      .agreement-checkbox {
        .checkmark {
          width: 16px; // 체크박스 작게 (18px → 16px)
          height: 16px; // 체크박스 작게 (18px → 16px)
          margin-right: 8px; // 간격 조정 (10px → 8px)

          &::after {
            width: 8px; // 체크 표시 작게 (10px → 8px)
            height: 8px; // 체크 표시 작게 (10px → 8px)
          }
        }

        input[type="checkbox"]:checked + .checkmark {
          &::after {
            font-size: 11px; // 체크 표시 폰트 작게 (12px → 11px)
          }
        }

        .label-text {
          font-size: 16px; // 폰트 작게 (17px → 16px)
        }
      }

      &.third-party-item {
        .agreement-checkbox .label-text {
          font-size: 16px; // 모바일에서도 다른 항목과 동일한 크기 (17px → 16px는 모바일 기본)
        }
      }
    }

  }

  .agreement-footer {
    padding: 12px 16px;

    .create-button {
      font-size: 16px;
      padding: 14px 20px;
    }
  }
}

/* 약관 모달 스타일 */
.terms-modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(5px);
  z-index: 10000 !important; // 최상위로 설정 (다른 모든 요소 위에 표시)
  display: flex;
  align-items: flex-start; // 위쪽 정렬
  justify-content: center;
  padding: 40px 20px 100px; // 하단 패딩 추가 (플로팅 버튼 높이 고려: 약 80px + 여백 20px)
  animation: fadeIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  // 패널의 transform이나 다른 스타일의 영향을 받지 않도록
  transform: none !important;
  margin: 0 !important;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.terms-modal-content {
  background: #4a4a4a;
  border-radius: 24px;
  width: 100%;
  max-width: 600px;
  max-height: calc(100vh - 160px); // 플로팅 버튼 영역(100px) + 여백(60px) 고려
  display: flex;
  flex-direction: column;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  margin-top: 0; // 위쪽 여백 제거
  // 패널의 transform이나 다른 스타일의 영향을 받지 않도록
  position: relative !important;
  transform: none !important;
}

@keyframes slideUp {
  from {
    transform: translateY(-30px); // 위에서 아래로 부드럽게 내려오도록
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.terms-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px 24px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);

  h3 {
    font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    font-size: 20px;
    font-weight: 700;
    color: #ffffff;
    margin: 0;
  }

  .terms-modal-close {
    background: transparent;
    border: none;
    color: rgba(255, 255, 255, 0.7);
    font-size: 28px;
    font-weight: 300;
    cursor: pointer;
    padding: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.2s ease;

    &:hover {
      color: #ffffff;
    }
  }
}

.terms-modal-body {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
  
  /* 스크롤바 스타일 */
  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 3px;
  }

  .terms-text {
    font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    font-size: 14px;
    line-height: 1.8;
    color: rgba(255, 255, 255, 0.9);
    white-space: pre-wrap;
    word-wrap: break-word;
    margin: 0;
  }
}

.terms-modal-footer {
  padding: 20px 24px 24px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);

  .terms-modal-confirm {
    width: 100%;
    padding: 14px 24px;
    background: #0D1B4D;
    border: 1px solid #ffffff;
    border-radius: 12px;
    color: #ffffff;
    font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;

    &:hover {
      background: #050A1F;
      transform: translateY(-2px);
    }

    &:active {
      transform: translateY(0);
    }
  }
}

/* 모바일 대응 */
@media (max-width: 480px) {
  .terms-modal-overlay {
    padding: 30px 16px 90px; // 하단 패딩 추가 (플로팅 버튼 높이 고려: 약 70px + 여백 20px)
    align-items: flex-start; // 위쪽 정렬
  }

  .terms-modal-content {
    max-height: calc(100vh - 140px); // 플로팅 버튼 영역(70px) + 여백(70px) 고려
    margin-top: 0; // 위쪽 여백 제거
  }

  .terms-modal-header {
    padding: 20px 20px 16px;

    h3 {
      font-size: 18px;
    }
  }

  .terms-modal-body {
    padding: 20px;

    .terms-text {
      font-size: 13px;
    }
  }

}

