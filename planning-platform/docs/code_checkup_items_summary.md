# 코드에 하드코딩된 검사 항목 데이터 요약

## 확인 결과

### ✅ 코드에 검사 항목 데이터가 존재합니다!

---

## 1. 외부 검사 항목 (insert_external_checkup_items.py)

**총 36개 항목**이 하드코딩되어 있습니다.

### 카테고리별 분류:

#### 암 정밀 (6개)
- **High (프리미엄)**: 3개
  - 얼리텍 (대장암)
  - 아이파인더/아이스크린
  - 암 유전자 패널 (G-Check)
- **Mid (추천)**: 3개
  - 마스토체크 (유방암)
  - HE4 + ROMA (난소암)
  - Pro-PSA (전립선암)

#### 영상의학 (5개)
- **High (프리미엄)**: 2개
  - 뇌 MRA (혈관)
  - 요추/경추 MRI
- **Mid (추천)**: 3개
  - 저선량 폐 CT
  - 복부 조영 CT
  - 관상동맥 석회화 CT

#### 기능의학 (5개)
- **High (프리미엄)**: 3개
  - 소변 유기산 검사
  - 지연성 알러지 (IgG)
  - 마이크로바이옴
- **Mid (추천)**: 2개
  - 조눌린 (장누수)
  - 모발 미네랄 검사

#### 호르몬 (4개)
- **Mid (추천)**: 1개
  - 타액 호르몬 (Cortisol)
- **Low (부담없는)**: 3개
  - AMH (난소 나이)
  - 남성호르몬 (Free T)
  - DHT (탈모호르몬)

#### 면역/항노화 (3개)
- **Mid (추천)**: 2개
  - NK세포 활성도
  - 텔로미어 (신체나이)
- **Low (부담없는)**: 1개
  - 활성산소/항산화력

#### 심혈관 (3개)
- **Mid (추천)**: 2개
  - sdLDL (소입자 LDL)
  - Lp(a) 지단백
- **Low (부담없는)**: 1개
  - 호모시스테인

#### 뇌/신경 (2개)
- **High (프리미엄)**: 1개
  - 알츠온/OAβ (아밀로이드)
- **Mid (추천)**: 1개
  - ApoE 유전자형

#### 감염 (2개)
- **Low (부담없는)**: 2개
  - HPV 유전형 (Genotyping)
  - 잠복결핵 (IGRA)

#### 소화기 (2개)
- **Low (부담없는)**: 2개
  - 펩시노겐 (PG I/II)
  - 헬리코박터 (혈액/대변)

#### 영양 (2개)
- **Mid (추천)**: 1개
  - 오메가-3 인덱스
- **Low (부담없는)**: 1개
  - 비타민 D

#### 내시경 (1개)
- **Mid (추천)**: 1개
  - 수면 대장내시경

#### 기타 (1개)
- **Low (부담없는)**: 1개
  - ALDH2 유전자

---

## 2. 병원 추천 항목 (execute_hospital_checkup_items.py)

**총 4개 항목**이 하드코딩되어 있습니다.

### 카테고리별 분류:

#### 심혈관검진 (1개)
- 심전도 검사
  - 설명: 심장의 전기적 활동을 측정하는 검사
  - 의미: 심장 질환 조기 발견 및 모니터링
  - 추천 대상: 고혈압, 당뇨, 심장질환 가족력
  - 업셀링 우선순위: 1
  - 종류: 12유도 심전도, 운동부하 심전도, 24시간 홀터 심전도

#### 유전자검진 (1개)
- 유전자 검사
  - 설명: 유전적 질환 위험도 평가
  - 의미: 개인 맞춤형 예방 의학
  - 추천 대상: 가족력 있는 질환, 조기 발병 질환
  - 업셀링 우선순위: 2
  - 종류: 암 유전자 검사, 심혈관 질환 유전자 검사, 대사질환 유전자 검사

#### 여성검진 (1개)
- 여성 검진
  - 설명: 여성 특화 검진 항목
  - 의미: 여성 건강 특화 검진
  - 업셀링 우선순위: 2
  - 성별: F
  - 연령: 20-65
  - 세부항목: 골밀도 검사, 갑상선 초음파, 유방 초음파, 부인과 검진

#### 특화검진 (1개)
- 정밀 검진
  - 설명: 별도 회사에서 시행하는 정밀 검진
  - 의미: 전신 정밀 건강 상태 평가
  - 업셀링 우선순위: 3
  - 종류: PET-CT, MRI 전신 스캔, 초음파 전신 검사

---

## 3. 통계 요약

| 구분 | 항목 수 |
|------|---------|
| 외부 검사 항목 (코드) | 36개 |
| 병원 추천 항목 (코드) | 4개 |
| **총계** | **40개** |

### 난이도별 분류 (외부 검사 항목)

| 난이도 | 항목 수 |
|--------|---------|
| High (프리미엄) | 9개 |
| Mid (추천) | 15개 |
| Low (부담없는) | 12개 |

---

## 4. 데이터베이스와의 관계

### 코드 → 데이터베이스 흐름

1. **insert_external_checkup_items.py**
   - 36개 외부 검사 항목을 `wello_external_checkup_items` 테이블에 입력
   - 스크립트 실행 시 데이터베이스에 저장됨

2. **execute_hospital_checkup_items.py**
   - 4개 병원 추천 항목을 `wello_hospitals.recommended_items` (JSONB)에 저장
   - 김현우내과(KIM_HW_CLINIC)에 적용

### 현재 상태

- ✅ 코드에 하드코딩된 데이터: 40개
- ✅ 데이터베이스에 저장된 데이터: 확인 필요 (스크립트 실행 여부에 따라 다름)

---

## 5. 결론

### ✅ 코드에 검사 항목 데이터가 충분히 존재합니다!

1. **외부 검사 항목**: 36개 (12개 카테고리)
2. **병원 추천 항목**: 4개 (4개 카테고리)
3. **총 40개 항목**이 코드에 하드코딩되어 있음

### 데이터베이스와의 동기화

- 코드의 데이터는 데이터베이스에 입력하기 위한 스크립트에 포함되어 있음
- 스크립트 실행 여부에 따라 데이터베이스에 저장 여부가 결정됨
- 현재 데이터베이스에는 일부만 저장되어 있을 수 있음 (실제 확인 필요)

### 활용 방안

1. **코드의 데이터를 데이터베이스에 동기화**
   - `insert_external_checkup_items.py` 실행 → 외부 검사 항목 36개 입력
   - `execute_hospital_checkup_items.py` 실행 → 병원 추천 항목 4개 입력

2. **프롬프트에 활용**
   - 코드의 데이터를 직접 참조하여 프롬프트에 포함 가능
   - 또는 데이터베이스에서 조회한 데이터와 병합하여 사용

3. **확장성**
   - 새로운 검사 항목 추가 시 코드에 먼저 추가 후 데이터베이스에 입력
   - 코드가 "단일 진실의 원천(Single Source of Truth)" 역할 가능


