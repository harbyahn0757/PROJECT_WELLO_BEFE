# 디자인 가이드 리팩터링 분석 보고서

## 📊 현재 구현 vs 이미지 디자인 비교 분석

**작성일**: 2025-01-27  
**분석 범위**: 랜딩 페이지, 건강 추이 페이지, 타임라인 페이지, 레이아웃 시스템

---

## 1. 랜딩 페이지 (MainPage) 분석

### 현재 구현 상태

| 항목 | 현재 구현 | 이미지 요구사항 | 차이점 |
|------|----------|---------------|--------|
| **레이아웃 타입** | 세로형/가로형/인트로 분리 (3가지) | 단일 통합 레이아웃 | ❌ 불일치 |
| **환자 인사말** | `layoutConfig.title` 동적 생성 | "안녕하세요 안광수님, 서울웰노내과의원 입니다." | ⚠️ 구조는 유사하나 스타일 차이 |
| **카드 개수** | 4개 (정상) | 4개 (정상) | ✅ 일치 |
| **카드 내용** | - 내 검진 결과 추이 보기<br>- 올해 검진 항목 설계<br>- 검진전 건강습관만들기<br>- 질병 예측 리포트 보기 | - 건강검진 결과지 다시보기<br>- 검진 결과 추이<br>- 건강습관 만들기<br>- 검진항목 설계하기 | ⚠️ 제목/순서 차이 |
| **플로팅 버튼** | "건강검진 예약하기" | "검진 예약 하기" | ⚠️ 텍스트 차이 |
| **색상 시스템** | 그레이 계열 (design-tokens.css) | 브라운 계열 | ❌ 불일치 |

### 코드 현황

| 파일 | 현재 라인 수 | 용도 |
|------|------------|------|
| `MainPage.tsx` | 517줄 | 메인 페이지 로직 (세로형/가로형 분리) |
| `VerticalLayout.tsx` | 71줄 | 세로형 레이아웃 |
| `VerticalLayout.scss` | 140줄 | 세로형 스타일 |
| `HorizontalLayout.tsx` | 72줄 | 가로형 레이아웃 |
| `HorizontalLayout.scss` | 170줄 | 가로형 스타일 |
| `IntroLayout.tsx` | 77줄 | 인트로 레이아웃 |
| `IntroLayout.scss` | 240줄 | 인트로 스타일 |
| **합계** | **1,287줄** | - |

### 변경 계획

| 작업 항목 | 현재 코드 | 변경 후 예상 | 절감 수치 |
|----------|----------|------------|----------|
| **레이아웃 통합** | 3개 레이아웃 컴포넌트 (220줄 TSX) | 1개 통합 레이아웃 (80줄) | **-140줄** |
| **스타일 통합** | 3개 SCSS 파일 (550줄) | 1개 통합 SCSS (200줄) | **-350줄** |
| **MainPage 로직 단순화** | 세로형/가로형 분기 로직 (150줄) | 단일 렌더링 로직 (50줄) | **-100줄** |
| **카드 내용 업데이트** | 기존 4개 카드 유지 | 제목/순서 변경 (0줄) | **0줄** |
| **브라운 색상 적용** | 그레이 토큰 사용 | 브라운 토큰 추가/적용 (50줄) | **+50줄** |
| **합계** | **1,287줄** | **380줄** | **-907줄 (70.4% 감소)** |

---

## 2. 건강 추이 페이지 (HealthDataViewer / TrendsSection) 분석

### 현재 구현 상태

| 항목 | 현재 구현 | 이미지 요구사항 | 차이점 |
|------|----------|---------------|--------|
| **탭 구조** | 토글 버튼 (분석/검진/약국/진료) | 2개 탭 ("건강검진 결과 추이" / "의료 기록 타임라인") | ⚠️ 구조 차이 |
| **건강 지표 카드** | 12개 지표 가로 스크롤 | 11개 지표 가로 스크롤 | ⚠️ 개수 차이 |
| **카드 디자인** | 제목, 수치, 상태 배지, 그래프 | 제목, 수치, 상태 배지, 그래프, 측정일 | ⚠️ 측정일 표시 누락 |
| **상태 배지** | 정상/경계/이상 (색상 있음) | 정상(초록)/경계(오렌지)/이상(빨강) | ✅ 일치 |
| **그래프 스타일** | LineChart 컴포넌트 | 작은 인라인 그래프 | ⚠️ 크기/스타일 차이 |
| **타임라인 표시** | UnifiedHealthTimeline 컴포넌트 | 병원/약국 방문 추이 차트 + 타임라인 | ⚠️ 차트 추가 필요 |

### 코드 현황

| 파일 | 현재 라인 수 | 용도 |
|------|------------|------|
| `HealthDataViewer/index.tsx` | 797줄 | 건강 데이터 뷰어 메인 |
| `HealthDataViewer/styles.scss` | 524줄 | 뷰어 스타일 |
| `TrendsSection.tsx` | 1,245줄 | 건강 지표 추이 섹션 |
| `UnifiedHealthTimeline/index.tsx` | 1,055줄 | 타임라인 컴포넌트 |
| `UnifiedHealthTimeline/styles.scss` | 1,492줄 | 타임라인 스타일 |
| **합계** | **5,113줄** | - |

### 변경 계획

| 작업 항목 | 현재 코드 | 변경 후 예상 | 절감 수치 |
|----------|----------|------------|----------|
| **탭 구조 개선** | 토글 버튼 로직 (100줄) | 2개 탭 구조 (80줄) | **-20줄** |
| **건강 지표 카드 개선** | 12개 지표 렌더링 (800줄) | 11개 지표 + 측정일 (750줄) | **-50줄** |
| **카드 그래프 스타일** | LineChart 전체 렌더링 | 작은 인라인 그래프 (600줄) | **-200줄** |
| **타임라인 차트 추가** | 차트 없음 | 병원/약국 방문 추이 차트 (200줄) | **+200줄** |
| **브라운 색상 적용** | 그레이 토큰 사용 | 브라운 토큰 적용 (100줄) | **+100줄** |
| **스타일 최적화** | 분산된 스타일 (2,016줄) | 통합 스타일 (1,800줄) | **-216줄** |
| **합계** | **5,113줄** | **4,727줄** | **-386줄 (7.5% 감소)** |

---

## 3. 건강 지표 카드 상세 분석

### 현재 구현 vs 이미지 비교

| 지표 | 현재 구현 | 이미지 요구사항 | 차이점 |
|------|----------|---------------|--------|
| **시력 (좌/우)** | 단일 값 표시 | 좌/우 분리 표시 + 상태 배지 | ❌ 구조 차이 |
| **청각 (좌/우)** | 단일 값 표시 | 좌/우 분리 표시 + 상태 배지 | ❌ 구조 차이 |
| **신체계측** | 신장, 체중, 허리둘레 | 신장, 체중, 허리둘레 + 참고 범위 | ⚠️ 참고 범위 누락 |
| **BMI** | 수치 + 상태 배지 | 수치 + 상태 배지 + 범위 정보 | ⚠️ 범위 정보 누락 |
| **혈압** | 수축기/이완기 분리 | 최고/최저 표시 + 범위 정보 | ⚠️ 범위 정보 누락 |
| **카드 스타일** | 흰색 배경, 둥근 모서리 | 흰색 배경, 둥근 모서리, 브라운 강조 | ⚠️ 색상 차이 |

### 코드 현황

| 컴포넌트 | 현재 라인 수 | 변경 필요 |
|----------|------------|----------|
| `TrendsSection.tsx` (지표 렌더링 부분) | 800줄 | 시력/청각 좌우 분리 로직 추가 |
| `TrendsSection.tsx` (상태 판정 부분) | 200줄 | 참고 범위 표시 로직 추가 |
| **합계** | **1,000줄** | - |

### 변경 계획

| 작업 항목 | 현재 코드 | 변경 후 예상 | 절감 수치 |
|----------|----------|------------|----------|
| **시력/청각 좌우 분리** | 단일 값 렌더링 (50줄) | 좌우 분리 렌더링 (100줄) | **+50줄** |
| **참고 범위 표시** | 범위 정보 없음 | 범위 정보 표시 (150줄) | **+150줄** |
| **카드 스타일 개선** | 기본 스타일 (200줄) | 브라운 강조 스타일 (250줄) | **+50줄** |
| **합계** | **1,000줄** | **1,250줄** | **+250줄 (25% 증가)** |

---

## 4. 타임라인 페이지 (UnifiedHealthTimeline) 분석

### 현재 구현 상태

| 항목 | 현재 구현 | 이미지 요구사항 | 차이점 |
|------|----------|---------------|--------|
| **방문 추이 차트** | 없음 | 병원/약국 방문 추이 바 차트 2개 | ❌ 누락 |
| **타임라인 엔트리** | 날짜별 그룹화 | 날짜별 그룹화 + 상세 정보 | ✅ 구조 유사 |
| **검진 상세 정보** | 탭 구조 (계측/요/혈액/영상/골다공증) | 탭 구조 + 참고 범위 표시 | ⚠️ 참고 범위 누락 |
| **처방약품 표시** | 약품 목록 | 약품 목록 + 일수 표시 | ⚠️ 일수 표시 누락 |

### 코드 현황

| 파일 | 현재 라인 수 | 용도 |
|------|------------|------|
| `UnifiedHealthTimeline/index.tsx` | 1,055줄 | 타임라인 로직 |
| `UnifiedHealthTimeline/styles.scss` | 1,492줄 | 타임라인 스타일 |
| **합계** | **2,547줄** | - |

### 변경 계획

| 작업 항목 | 현재 코드 | 변경 후 예상 | 절감 수치 |
|----------|----------|------------|----------|
| **방문 추이 차트 추가** | 차트 없음 | BarChart 2개 추가 (300줄) | **+300줄** |
| **참고 범위 표시** | 범위 정보 없음 | 범위 정보 표시 (200줄) | **+200줄** |
| **약품 일수 표시** | 일수 정보 없음 | 일수 표시 (100줄) | **+100줄** |
| **브라운 색상 적용** | 그레이 토큰 사용 | 브라운 토큰 적용 (150줄) | **+150줄** |
| **스타일 최적화** | 분산된 스타일 (1,492줄) | 최적화된 스타일 (1,400줄) | **-92줄** |
| **합계** | **2,547줄** | **3,058줄** | **+511줄 (20.1% 증가)** |

---

## 5. 브라운 스킨 색상 시스템

### 현재 구현 상태

| 항목 | 현재 구현 | 이미지 요구사항 | 차이점 |
|------|----------|---------------|--------|
| **색상 토큰** | 그레이 계열만 정의 | 브라운 계열 필요 | ❌ 누락 |
| **브랜드 컬러** | `$brand-brown` SCSS 변수만 존재 | CSS 변수로 전환 필요 | ⚠️ CSS 변수 없음 |
| **적용 범위** | 일부 컴포넌트만 적용 | 전체 컴포넌트 적용 | ⚠️ 부분 적용 |

### 코드 현황

| 파일 | 현재 라인 수 | 용도 |
|------|------------|------|
| `design-tokens.css` | 209줄 | CSS 변수 정의 (그레이만) |
| `_variables.scss` | 브라운 변수 정의됨 | SCSS 변수 정의 |

### 변경 계획

| 작업 항목 | 현재 코드 | 변경 후 예상 | 절감 수치 |
|----------|----------|------------|----------|
| **브라운 CSS 변수 추가** | 그레이만 (50줄) | 브라운 추가 (100줄) | **+50줄** |
| **브라운 색상 적용** | 부분 적용 | 전체 적용 (300줄) | **+300줄** |
| **합계** | **50줄** | **400줄** | **+350줄 (700% 증가)** |

---

## 📊 전체 요약 테이블

### 페이지별 변경 사항 및 코드 절감 수치

| 페이지/컴포넌트 | 현재 라인 수 | 변경 후 예상 | 절감 수치 | 절감률 |
|----------------|------------|------------|----------|--------|
| **랜딩 페이지 (MainPage + Layouts)** | 1,287줄 | 380줄 | **-907줄** | **-70.4%** |
| **건강 추이 페이지** | 5,113줄 | 4,727줄 | **-386줄** | **-7.5%** |
| **건강 지표 카드** | 1,000줄 | 1,250줄 | **+250줄** | **+25.0%** |
| **타임라인 페이지** | 2,547줄 | 3,058줄 | **+511줄** | **+20.1%** |
| **브라운 색상 시스템** | 50줄 | 400줄 | **+350줄** | **+700.0%** |
| **합계** | **9,997줄** | **9,815줄** | **-182줄** | **-1.8%** |

---

## 🎯 주요 변경 사항 요약

### 1. 랜딩 페이지 통합 (최대 절감)

**제거 대상:**
- `HorizontalLayout.tsx` (72줄) + `HorizontalLayout.scss` (170줄) = **242줄**
- `IntroLayout.tsx` (77줄) + `IntroLayout.scss` (240줄) = **317줄**
- `MainPage.tsx`의 세로형/가로형 분기 로직 (150줄) = **150줄**

**신규 생성:**
- 통합 레이아웃 컴포넌트 (80줄 TSX + 200줄 SCSS) = **280줄**

**순 절감: 709줄 (55.1%)**

### 2. 건강 추이 페이지 개선

**주요 변경:**
- 탭 구조 단순화: 4개 토글 → 2개 탭
- 건강 지표 카드 그래프 스타일 최적화
- 타임라인 방문 추이 차트 추가

**순 절감: 386줄 (7.5%)**

### 3. 건강 지표 카드 상세화

**추가 기능:**
- 시력/청각 좌우 분리 표시
- 참고 범위 정보 표시
- 측정일 표시

**순 증가: 250줄 (25.0%)**

### 4. 타임라인 페이지 기능 추가

**추가 기능:**
- 병원/약국 방문 추이 차트
- 참고 범위 표시
- 약품 일수 표시

**순 증가: 511줄 (20.1%)**

### 5. 브라운 색상 시스템 구축

**추가 작업:**
- CSS 변수 추가
- 전체 컴포넌트 적용

**순 증가: 350줄 (700.0%)**

---

## 📋 우선순위별 작업 계획

### Phase 1: 브라운 색상 시스템 (기반 작업)
- **작업량**: +350줄
- **예상 시간**: 2시간
- **의존성**: 없음

### Phase 2: 랜딩 페이지 통합 (최대 절감)
- **작업량**: -709줄
- **예상 시간**: 4시간
- **의존성**: Phase 1 완료

### Phase 3: 건강 추이 페이지 개선
- **작업량**: -386줄
- **예상 시간**: 3시간
- **의존성**: Phase 1 완료

### Phase 4: 건강 지표 카드 상세화
- **작업량**: +250줄
- **예상 시간**: 2시간
- **의존성**: Phase 3 완료

### Phase 5: 타임라인 페이지 기능 추가
- **작업량**: +511줄
- **예상 시간**: 3시간
- **의존성**: Phase 3 완료

---

## ✅ 검증 체크리스트

### 랜딩 페이지
- [ ] 단일 통합 레이아웃으로 변경
- [ ] 환자명 포함 인사말 구조화
- [ ] 4개 카드 제목/순서 이미지와 일치
- [ ] 플로팅 버튼 텍스트 "검진 예약 하기"
- [ ] 브라운 색상 적용

### 건강 추이 페이지
- [ ] 2개 탭 구조 ("건강검진 결과 추이" / "의료 기록 타임라인")
- [ ] 11개 건강 지표 카드
- [ ] 각 카드에 측정일 표시
- [ ] 작은 인라인 그래프 스타일
- [ ] 브라운 색상 적용

### 건강 지표 카드
- [ ] 시력/청각 좌우 분리 표시
- [ ] 신체계측 참고 범위 표시
- [ ] BMI/혈압 범위 정보 표시
- [ ] 브라운 강조 스타일

### 타임라인 페이지
- [ ] 병원/약국 방문 추이 차트 추가
- [ ] 검진 상세 정보 참고 범위 표시
- [ ] 약품 일수 표시
- [ ] 브라운 색상 적용

---

**총 예상 작업 시간**: 14시간  
**총 코드 변화**: -182줄 (1.8% 감소)  
**최대 절감 페이지**: 랜딩 페이지 (-70.4%)



