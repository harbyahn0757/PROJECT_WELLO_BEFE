<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŒŒíŠ¸ë„ˆì‚¬ ì›¹ì‚¬ì´íŠ¸ - Welno RAG ì±„íŒ… í†µí•© ì˜ˆì œ</title>
    <style>
        /* íŒŒíŠ¸ë„ˆì‚¬ ê¸°ì¡´ ìŠ¤íƒ€ì¼ (ì˜ˆì‹œ) */
        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 28px;
            font-weight: bold;
            color: #667eea;
        }
        
        .nav {
            display: flex;
            gap: 30px;
        }
        
        .nav a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav a:hover {
            color: #667eea;
        }
        
        .hero {
            padding: 80px 0;
            text-align: center;
            color: white;
        }
        
        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .hero p {
            font-size: 20px;
            margin-bottom: 40px;
            opacity: 0.9;
        }
        
        .btn {
            display: inline-block;
            padding: 15px 30px;
            background: white;
            color: #667eea;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .features {
            padding: 80px 0;
            background: white;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 50px;
        }
        
        .feature-card {
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            font-size: 24px;
            margin-bottom: 15px;
            color: #333;
        }
        
        .feature-card p {
            color: #666;
            line-height: 1.6;
        }
        
        .health-section {
            padding: 80px 0;
            background: #f8f9fa;
        }
        
        .health-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }
        
        .health-text h2 {
            font-size: 36px;
            margin-bottom: 20px;
            color: #333;
        }
        
        .health-text p {
            font-size: 18px;
            line-height: 1.6;
            color: #666;
            margin-bottom: 30px;
        }
        
        .health-image {
            text-align: center;
            font-size: 120px;
            color: #667eea;
        }
        
        .footer {
            background: #333;
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        
        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 36px;
            }
            
            .hero p {
                font-size: 18px;
            }
            
            .health-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .nav {
                display: none;
            }
        }
        
        /* ì±„íŒ… ìœ„ì ¯ í†µí•© ì•Œë¦¼ */
        .chat-notice {
            position: fixed;
            bottom: 100px;
            right: 30px;
            background: #fff;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            max-width: 250px;
            font-size: 14px;
            color: #333;
            border-left: 4px solid #667eea;
            animation: slideIn 0.5s ease-out;
            z-index: 9998;
        }
        
        .chat-notice.hidden {
            display: none;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .close-notice {
            position: absolute;
            top: 5px;
            right: 10px;
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            color: #999;
        }
    </style>
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="container">
            <div class="logo">MediLinx</div>
            <nav class="nav">
                <a href="#home">í™ˆ</a>
                <a href="#services">ì„œë¹„ìŠ¤</a>
                <a href="#about">ì†Œê°œ</a>
                <a href="#contact">ì—°ë½ì²˜</a>
            </nav>
        </div>
    </header>

    <!-- íˆì–´ë¡œ ì„¹ì…˜ -->
    <section class="hero">
        <div class="container">
            <h1>ê±´ê°•í•œ ì‚¶ì˜ ì‹œì‘</h1>
            <p>MediLinxì™€ í•¨ê»˜ ë” ë‚˜ì€ ê±´ê°• ê´€ë¦¬ë¥¼ ê²½í—˜í•˜ì„¸ìš”</p>
            <a href="#services" class="btn">ì„œë¹„ìŠ¤ ì•Œì•„ë³´ê¸°</a>
        </div>
    </section>

    <!-- íŠ¹ì§• ì„¹ì…˜ -->
    <section class="features">
        <div class="container">
            <h2 style="text-align: center; font-size: 36px; margin-bottom: 20px;">ìš°ë¦¬ì˜ ì„œë¹„ìŠ¤</h2>
            <p style="text-align: center; font-size: 18px; color: #666;">ì „ë¬¸ì ì´ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê±´ê°• ê´€ë¦¬ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤</p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ¥</div>
                    <h3>ì¢…í•© ê±´ê°•ê²€ì§„</h3>
                    <p>ìµœì‹  ì˜ë£Œ ì¥ë¹„ì™€ ì „ë¬¸ì˜ì˜ ì •í™•í•œ ì§„ë‹¨ìœ¼ë¡œ ê±´ê°• ìƒíƒœë¥¼ ì¢…í•©ì ìœ¼ë¡œ ì ê²€í•©ë‹ˆë‹¤.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">ğŸ’Š</div>
                    <h3>ë§ì¶¤ ê±´ê°• ê´€ë¦¬</h3>
                    <p>ê°œì¸ë³„ ê±´ê°• ìƒíƒœì— ë§ì¶˜ ë§ì¶¤í˜• ê±´ê°• ê´€ë¦¬ í”„ë¡œê·¸ë¨ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">ğŸ¤–</div>
                    <h3>AI ê±´ê°• ìƒë‹´</h3>
                    <p>ìµœì‹  AI ê¸°ìˆ ì„ í™œìš©í•œ 24ì‹œê°„ ê±´ê°• ìƒë‹´ ì„œë¹„ìŠ¤ë¡œ ì–¸ì œë“ ì§€ ì „ë¬¸ì ì¸ ì¡°ì–¸ì„ ë°›ìœ¼ì„¸ìš”.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ê±´ê°• ê´€ë¦¬ ì„¹ì…˜ -->
    <section class="health-section">
        <div class="container">
            <div class="health-content">
                <div class="health-text">
                    <h2>AI ê¸°ë°˜ ê±´ê°• ìƒë‹´</h2>
                    <p>
                        MediLinxì˜ AI ê±´ê°• ìƒë‹´ ì„œë¹„ìŠ¤ëŠ” ìµœì‹  ì˜í•™ ì§€ì‹ê³¼ ê°œì¸ ê±´ê°• ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ 
                        ì •í™•í•˜ê³  ê°œì¸í™”ëœ ê±´ê°• ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤.
                    </p>
                    <p>
                        ìš°ì¸¡ í•˜ë‹¨ì˜ ì±„íŒ… ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì§€ê¸ˆ ë°”ë¡œ AI ê±´ê°• ìƒë‹´ì„ ì‹œì‘í•´ë³´ì„¸ìš”. 
                        ê²€ì§„ ê²°ê³¼ ë¶„ì„, ê±´ê°• ê´€ë¦¬ ë°©ë²•, ì˜ì–‘ ìƒë‹´ ë“± ë‹¤ì–‘í•œ ê±´ê°• ê´€ë ¨ ì§ˆë¬¸ì— ë‹µë³€í•´ë“œë¦½ë‹ˆë‹¤.
                    </p>
                    <a href="#" class="btn" onclick="openHealthChat()">ê±´ê°• ìƒë‹´ ì‹œì‘</a>
                </div>
                <div class="health-image">
                    ğŸ©º
                </div>
            </div>
        </div>
    </section>

    <!-- í‘¸í„° -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 MediLinx. All rights reserved. | Powered by Welno RAG Chat</p>
        </div>
    </footer>

    <!-- ì±„íŒ… ìœ„ì ¯ ì•Œë¦¼ -->
    <div id="chatNotice" class="chat-notice">
        <button class="close-notice" onclick="hideChatNotice()">Ã—</button>
        <strong>ğŸ’¬ AI ê±´ê°• ìƒë‹´</strong><br>
        ê¶ê¸ˆí•œ ê±´ê°• ì •ë³´ë¥¼ AIì—ê²Œ ë¬¼ì–´ë³´ì„¸ìš”!
    </div>

    <!-- Welno RAG Chat Widget ë¡œë“œ -->
    <script src="WelnoRagChatWidget.js"></script>
    
    <script>
        // íŒŒíŠ¸ë„ˆ ì„¤ì • (ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì„œë²„ì—ì„œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬)
        const PARTNER_CONFIG = {
            apiKey: '5a9bb40b5108ecd8ef864658d5a2d5ab', // MediLinx API Key
            baseUrl: 'https://welno.kindhabit.com',
            uuid: 'medilinx_user_' + Date.now(),
            hospitalId: 'medilinx_clinic',
            
            // íŒŒíŠ¸ë„ˆ ê²€ì§„ ë°ì´í„° (ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ê°€ì ¸ì˜´)
            partnerData: {
                patient: {
                    name: 'ê¹€ê±´ê°•',
                    birth_date: '1985-03-15',
                    sex: 'M',
                    phone: '010-1234-5678'
                },
                checkup_results: {
                    height: 172,
                    weight: 75,
                    bmi: 25.3,
                    systolic_bp: 135,
                    diastolic_bp: 85,
                    fasting_glucose: 105,
                    total_cholesterol: 220,
                    exam_date: '2024-01-20'
                },
                medical_history: [
                    '2023ë…„ ê³ í˜ˆì•• ì§„ë‹¨',
                    '2022ë…„ ë‹¹ë‡¨ ì „ë‹¨ê³„ ì§„ë‹¨'
                ]
            }
        };

        let chatWidget = null;

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìœ„ì ¯ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            initializeChatWidget();
            
            // 5ì´ˆ í›„ ì±„íŒ… ì•Œë¦¼ í‘œì‹œ
            setTimeout(showChatNotice, 5000);
        });

        // ì±„íŒ… ìœ„ì ¯ ì´ˆê¸°í™”
        function initializeChatWidget() {
            try {
                chatWidget = new WelnoRagChatWidget({
                    ...PARTNER_CONFIG,
                    
                    // UI ì„¤ì •
                    position: 'bottom-right',
                    buttonColor: '#667eea',
                    
                    // ì½œë°± ì„¤ì •
                    onOpen: function() {
                        console.log('[MediLinx] ì±„íŒ… ìœ„ì ¯ ì—´ë¦¼');
                        hideChatNotice();
                        
                        // êµ¬ê¸€ ì• ë„ë¦¬í‹±ìŠ¤ ë“± ì¶”ì  ì½”ë“œ
                        if (typeof gtag !== 'undefined') {
                            gtag('event', 'chat_opened', {
                                event_category: 'engagement',
                                event_label: 'ai_health_chat'
                            });
                        }
                    },
                    
                    onClose: function() {
                        console.log('[MediLinx] ì±„íŒ… ìœ„ì ¯ ë‹«í˜');
                    },
                    
                    onMessage: function(message) {
                        console.log('[MediLinx] ë©”ì‹œì§€:', message.role, message.content.substring(0, 50));
                        
                        // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ì 
                        if (message.role === 'user' && typeof gtag !== 'undefined') {
                            gtag('event', 'chat_message_sent', {
                                event_category: 'engagement',
                                event_label: 'ai_health_chat'
                            });
                        }
                    },
                    
                    onError: function(error) {
                        console.error('[MediLinx] ì±„íŒ… ì˜¤ë¥˜:', error);
                        
                        // ì‚¬ìš©ìì—ê²Œ ì¹œí™”ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
                        alert('ì±„íŒ… ì„œë¹„ìŠ¤ì— ì¼ì‹œì ì¸ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                    }
                });

                // ìœ„ì ¯ ì´ˆê¸°í™”
                chatWidget.init();
                
                console.log('[MediLinx] AI ê±´ê°• ìƒë‹´ ìœ„ì ¯ì´ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.');
                
            } catch (error) {
                console.error('[MediLinx] ì±„íŒ… ìœ„ì ¯ ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
            }
        }

        // ê±´ê°• ìƒë‹´ ì‹œì‘ (ë²„íŠ¼ í´ë¦­ ì‹œ)
        function openHealthChat() {
            if (chatWidget) {
                chatWidget.open();
            } else {
                alert('ì±„íŒ… ì„œë¹„ìŠ¤ë¥¼ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
            }
        }

        // ì±„íŒ… ì•Œë¦¼ í‘œì‹œ
        function showChatNotice() {
            const notice = document.getElementById('chatNotice');
            if (notice && !chatWidget.state.isOpen) {
                notice.classList.remove('hidden');
                
                // 10ì´ˆ í›„ ìë™ ìˆ¨ê¹€
                setTimeout(hideChatNotice, 10000);
            }
        }

        // ì±„íŒ… ì•Œë¦¼ ìˆ¨ê¹€
        function hideChatNotice() {
            const notice = document.getElementById('chatNotice');
            if (notice) {
                notice.classList.add('hidden');
            }
        }

        // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ë¡œ ì±„íŒ… ì•Œë¦¼ íŠ¸ë¦¬ê±°
        let hasShownScrollNotice = false;
        window.addEventListener('scroll', function() {
            if (!hasShownScrollNotice && window.scrollY > 500) {
                hasShownScrollNotice = true;
                setTimeout(showChatNotice, 2000);
            }
        });

        // í˜ì´ì§€ ë‚˜ê°€ê¸° ì „ ì±„íŒ… ì„¸ì…˜ ì •ë¦¬ (ì„ íƒì‚¬í•­)
        window.addEventListener('beforeunload', function() {
            if (chatWidget && chatWidget.state.messages.length > 1) {
                // ì±„íŒ… ìš”ì•½ API í˜¸ì¶œ (ë°±ê·¸ë¼ìš´ë“œ)
                navigator.sendBeacon(`${PARTNER_CONFIG.baseUrl}/api/v1/rag-chat/partner/summarize`, 
                    JSON.stringify({
                        uuid: PARTNER_CONFIG.uuid,
                        hospital_id: PARTNER_CONFIG.hospitalId
                    })
                );
            }
        });
    </script>
</body>
</html>